# ğŸ’° AI-Powered Personal Finance Manager (FinanceGPT)

## Software Requirements Specification (SRS) Document
**Version:** 1.0  
**Date:** 2026-01-27  
**Author:** Aryan Jaiswal
**Project Type:** Full-Stack Learning Project

---

## ğŸ“‹ Table of Contents

1. [Introduction](#1-introduction)
2. [Project Overview](#2-project-overview)
3. [System Architecture](#3-system-architecture)
4. [Technology Stack](#4-technology-stack)
5. [Functional Requirements](#5-functional-requirements)
6. [Non-Functional Requirements](#6-non-functional-requirements)
7. [Database Design](#7-database-design)
8. [API Specification](#8-api-specification)
9. [Security Implementation](#9-security-implementation)
10. [AI Integration](#10-ai-integration)
11. [Caching Strategy](#11-caching-strategy)
12. [System Flow](#12-system-flow)
13. [Development Process](#13-development-process)
14. [Deployment Guide](#14-deployment-guide)
15. [Testing Strategy](#15-testing-strategy)

---

## 1. Introduction

### 1.1 Purpose
This document provides a comprehensive Software Requirements Specification for **FinanceGPT** - an AI-powered personal finance management application. This project is designed as an all-in-one learning platform to master:
- Spring Boot with Gradle-Kotlin
- Spring Security
- Spring AI with Google Gemini
- Redis Caching with Lettuce
- AWS DynamoDB
- Basic Frontend Development

### 1.2 Scope
FinanceGPT is a personal finance management system that leverages AI to provide intelligent insights, spending analysis, budget recommendations, and financial advice. The system will track expenses, categorize transactions, predict future spending patterns, and offer personalized financial guidance.

### 1.3 Definitions & Acronyms

| Term | Definition |
|------|------------|
| SRS | Software Requirements Specification |
| API | Application Programming Interface |
| JWT | JSON Web Token |
| CRUD | Create, Read, Update, Delete |
| TTL | Time To Live |
| LRU | Least Recently Used |
| GSI | Global Secondary Index |
| LSI | Local Secondary Index |

### 1.4 Why This Project?

| Concept | How It's Used |
|---------|---------------|
| **Spring Boot** | Core backend framework handling all business logic |
| **Spring Security** | JWT authentication, role-based access, API security |
| **Spring AI + Gemini** | Financial advice, spending analysis, pattern recognition, tool calling |
| **Redis + Lettuce** | Session caching, frequently accessed data, rate limiting |
| **AWS DynamoDB** | Primary database for all financial data |
| **Frontend** | Simple React/Thymeleaf UI for user interaction |

---

## 2. Project Overview

### 2.1 Project Description
**FinanceGPT** is an intelligent personal finance manager that combines traditional expense tracking with AI-powered analysis. Users can:
- Track income and expenses
- Set and monitor budgets
- Get AI-generated financial insights
- Chat with an AI financial advisor
- Receive spending predictions and alerts
- View analytics and reports

### 2.2 Key Features

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FINANCEGPT FEATURES                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š EXPENSE TRACKING          â”‚  ğŸ¤– AI FINANCIAL ADVISOR        â”‚
â”‚  â”œâ”€ Manual entry              â”‚  â”œâ”€ Natural language chat       â”‚
â”‚  â”œâ”€ Categorization            â”‚  â”œâ”€ Context-aware responses     â”‚
â”‚  â”œâ”€ Recurring expenses        â”‚  â”œâ”€ Personalized advice         â”‚
â”‚  â””â”€ Receipt scanning (AI)     â”‚  â””â”€ Financial goal planning     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’° BUDGET MANAGEMENT         â”‚  ğŸ“ˆ ANALYTICS & INSIGHTS        â”‚
â”‚  â”œâ”€ Category budgets          â”‚  â”œâ”€ Spending patterns           â”‚
â”‚  â”œâ”€ Monthly limits            â”‚  â”œâ”€ Trend analysis              â”‚
â”‚  â”œâ”€ Alert notifications       â”‚  â”œâ”€ Predictive forecasting      â”‚
â”‚  â””â”€ Progress tracking         â”‚  â””â”€ Category breakdown          â”‚
â”œâ”€â”€â”€â”€â”€ï¿½ï¿½â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” SECURITY                  â”‚  âš¡ PERFORMANCE                  â”‚
â”‚  â”œâ”€ JWT Authentication        â”‚  â”œâ”€ Redis caching               â”‚
â”‚  â”œâ”€ Role-based access         â”‚  â”œâ”€ Optimized queries           â”‚
â”‚  â”œâ”€ API rate limiting         â”‚  â”œâ”€ Async processing            â”‚
â”‚  â””â”€ Data encryption           â”‚  â””â”€ Connection pooling          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 User Stories

| ID | As a... | I want to... | So that... |
|----|---------|--------------|------------|
| US01 | User | Register and login securely | My financial data is protected |
| US02 | User | Add income/expense transactions | I can track my money flow |
| US03 | User | Categorize my transactions | I understand my spending habits |
| US04 | User | Set monthly budgets | I can control my spending |
| US05 | User | Chat with AI advisor | I get personalized financial advice |
| US06 | User | View spending analytics | I can make informed decisions |
| US07 | User | Get AI-generated insights | I discover hidden patterns |
| US08 | User | Receive budget alerts | I don't overspend |
| US09 | User | Export my data | I have backup of my records |
| US10 | User | Set financial goals | I can plan for the future |

---

## 3. System Architecture

### 3.1 High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CLIENT LAYER                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   Web Browser   â”‚  â”‚  Mobile (PWA)   â”‚  â”‚   REST Client   â”‚            â”‚
â”‚  â”‚  (React/HTML)   â”‚  â”‚                 â”‚  â”‚   (Postman)     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                     â”‚                     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚ HTTPS
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           API GATEWAY LAYER                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    SPRING BOOT APPLICATION                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚  â”‚
â”‚  â”‚  â”‚   Security  â”‚  â”‚    Rate     â”‚  â”‚   Request   â”‚                   â”‚  â”‚
â”‚  â”‚  â”‚   Filter    â”‚â”€â”€â”‚   Limiter   â”‚â”€â”€â”‚   Router    â”‚                   â”‚  â”‚
â”‚  â”‚  â”‚  (JWT Auth) â”‚  â”‚   (Redis)   â”‚  â”‚             â”‚                   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SERVICE LAYER                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      REST CONTROLLERS                               â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚   Auth   â”‚ â”‚ Transac- â”‚ â”‚  Budget  â”‚ â”‚ Analyticsâ”‚ â”‚    AI    â”‚  â”‚    â”‚
â”‚  â”‚  â”‚Controllerâ”‚ â”‚   tion   â”‚ â”‚Controllerâ”‚ â”‚Controllerâ”‚ â”‚Controllerâ”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚          â”‚            â”‚            â”‚            â”‚            â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      BUSINESS SERVICES                              â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚   User   â”‚ â”‚Transactionâ”‚ â”‚  Budget  â”‚ â”‚ Analyticsâ”‚ â”‚    AI    â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ Service  â”‚ â”‚  Service â”‚ â”‚ Service  â”‚ â”‚ Service  â”‚ â”‚ Service  â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚            â”‚            â”‚            â”‚            â”‚
           â–¼            â–¼            â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½ï¿½ï¿½â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DATA ACCESS LAYER                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        REPOSITORIES                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚
â”‚  â”‚  â”‚     User     â”‚  â”‚  Transaction â”‚  â”‚    Budget    â”‚               â”‚   â”‚
â”‚  â”‚  â”‚  Repository  â”‚  â”‚  Repository  â”‚  â”‚  Repository  â”‚               â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                 â”‚                 â”‚
             â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          PERSISTENCE LAYER                                  â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   â”‚                   â”‚              â”‚                   â”‚                 â”‚
â”‚   â”‚   AWS DYNAMODB    â”‚              â”‚   REDIS CACHE     â”‚                 â”‚
â”‚   â”‚   (Primary DB)    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   (Lettuce)       â”‚                 â”‚
â”‚   â”‚                   â”‚   Cache      â”‚                   â”‚                 â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   Aside      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                 â”‚
â”‚   â”‚  â”‚ Users Table â”‚  â”‚   Pattern    â”‚  â”‚   Session   â”‚  â”‚                 â”‚
â”‚   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚              â”‚  â”‚    Cache    â”‚  â”‚                 â”‚
â”‚   â”‚  â”‚Transactions â”‚  â”‚              â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                 â”‚
â”‚   â”‚  â”‚   Table     â”‚  â”‚              â”‚  â”‚    Data     â”‚  â”‚                 â”‚
â”‚   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚              â”‚  â”‚    Cache    â”‚  â”‚                 â”‚
â”‚   â”‚  â”‚ Budgets     â”‚  â”‚              â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                 â”‚
â”‚   â”‚  â”‚   Table     â”‚  â”‚              â”‚  â”‚    Rate     â”‚  â”‚                 â”‚
â”‚   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚              â”‚  â”‚   Limiter   â”‚  â”‚                 â”‚
â”‚   â”‚  â”‚ AI Context  â”‚  â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                 â”‚
â”‚   â”‚  â”‚   Table     â”‚  â”‚              â”‚                   â”‚                 â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EXTERNAL SERVICES                                   â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                    GOOGLE GEMINI API                               â”‚    â”‚
â”‚   â”‚                    (via Spring AI)                                 â”‚    â”‚
â”‚   â”‚                                                                    â”‚    â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚    â”‚
â”‚   â”‚  â”‚    Chat     â”‚  â”‚   Function  â”‚  â”‚   Context   â”‚               â”‚    â”‚
â”‚   â”‚  â”‚  Completion â”‚  â”‚   Calling   â”‚  â”‚  Management â”‚               â”‚    â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Component Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SPRING BOOT APPLICATION                          â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    CONFIGURATION MODULE                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚    â”‚
â”‚  â”‚  â”‚SecurityConfigâ”‚ â”‚ RedisConfig  â”‚ â”‚DynamoDBConfigâ”‚            â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚    â”‚
â”‚  â”‚  â”‚  AIConfig    â”‚ â”‚  WebConfig   â”‚ â”‚ AsyncConfig  â”‚            â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      SECURITY MODULE                             â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚    â”‚
â”‚  â”‚  â”‚ JwtProvider  â”‚ â”‚ JwtFilter    â”‚ â”‚AuthEntryPointâ”‚            â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚    â”‚
â”‚  â”‚  â”‚UserDetails   â”‚ â”‚PasswordEnc  â”‚                             â”‚    â”‚
â”‚  â”‚  â”‚Service       â”‚ â”‚   oder      â”‚                             â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      CORE MODULES                                â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚  USER MODULE    â”‚  â”‚TRANSACTION MOD. â”‚  â”‚  BUDGET MODULE  â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â”‚ Controller  â”‚ â”‚  â”‚ â”‚ Controller  â”‚ â”‚  â”‚ â”‚ Controller  â”‚ â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â”‚  Service    â”‚ â”‚  â”‚ â”‚  Service    â”‚ â”‚  â”‚ â”‚  Service    â”‚ â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â”‚ Repository  â”‚ â”‚  â”‚ â”‚ Repository  â”‚ â”‚  â”‚ â”‚ Repository  â”‚ â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â”‚   Entity    â”‚ â”‚  â”‚ â”‚   Entity    â”‚ â”‚  â”‚ â”‚   Entity    â”‚ â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â”‚    DTO      â”‚ â”‚  â”‚ â”‚    DTO      â”‚ â”‚  â”‚ â”‚    DTO      â”‚ â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚    â”‚
â”‚  â”‚  â”‚ ANALYTICS MOD.  â”‚  â”‚   AI MODULE     â”‚                       â”‚    â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                       â”‚    â”‚
â”‚  â”‚  â”‚ â”‚ Controller  â”‚ â”‚  â”‚ â”‚ Controller  â”‚ â”‚                       â”‚    â”‚
â”‚  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚                       â”‚    â”‚
â”‚  â”‚  â”‚ â”‚  Service    â”‚ â”‚  â”‚ â”‚  Service    â”‚ â”‚                       â”‚    â”‚
â”‚  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚                       â”‚    â”‚
â”‚  â”‚  â”‚ â”‚Aggregations â”‚ â”‚  â”‚ â”‚ AITools     â”‚ â”‚                       â”‚    â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚                       â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚PromptTemplt â”‚ â”‚                       â”‚    â”‚
â”‚  â”‚                       â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚                       â”‚    â”‚
â”‚  â”‚                       â”‚ â”‚ContextMgr   â”‚ â”‚                       â”‚    â”‚
â”‚  â”‚                       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                       â”‚    â”‚
â”‚  â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      CACHE MODULE                                â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚    â”‚
â”‚  â”‚  â”‚CacheService  â”‚ â”‚CacheManager  â”‚ â”‚RateLimiter   â”‚            â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Sequence Diagram - AI Chat Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Clientâ”‚     â”‚Controllerâ”‚     â”‚ AIService â”‚     â”‚ Redis â”‚     â”‚DynamoDB â”‚     â”‚ Gemini â”‚
â””â”€â”€â”¬â”€â”€â”€â”˜     â””â”€â”€â”€â”€ï¿½ï¿½â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”¬â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
   â”‚              â”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚ POST /ai/chatâ”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚ processChat()   â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚ Get Context   â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚ Cached Contextâ”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚ Get User Data â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º              â”‚
   â”‚              â”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
   â”‚              â”‚                 â”‚ User Financial Data          â”‚              â”‚
   â”‚              â”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚ Build Prompt + Context       â”‚              â”‚
   â”‚              â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
   â”‚              â”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚               â”‚              â”‚   (May call  â”‚
   â”‚              â”‚                 â”‚               â”‚              â”‚   functions) â”‚
   â”‚              â”‚                 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   â”‚              â”‚                 â”‚ AI Response   â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚ Store Context â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚ Store History â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º              â”‚
   â”‚              â”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚  Response       â”‚               â”‚              â”‚              â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚               â”‚              â”‚              â”‚
   â”‚  JSON Response                 â”‚               â”‚              â”‚              â”‚
   â”‚              â”‚                 â”‚               â”‚              â”‚              â”‚
```

---

## 4. Technology Stack

### 4.1 Complete Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        TECHNOLOGY STACK                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘                         BACKEND                                    â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘  Language        â”‚ Java 21 (LTS)                                  â•‘  â”‚
â”‚  â•‘  Framework       â”‚ Spring Boot 3.3.x                              â•‘  â”‚
â”‚  â•‘  Build Tool      â”‚ Gradle with Kotlin DSL                         â•‘  â”‚
â”‚  â•‘  Security        â”‚ Spring Security 6.x + JWT                      â•‘  â”‚
â”‚  â•‘  AI Integration  â”‚ Spring AI 1.0.x + Google GenAI                 â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                          â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘                        DATABASE                                    â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘  Primary DB      â”‚ AWS DynamoDB (Free Tier)                       â•‘  â”‚
â”‚  â•‘  Cache           â”‚ Redis 7.x with Lettuce Client                  â•‘  â”‚
â”‚  â•‘  Local Dev       â”‚ DynamoDB Local + Redis Docker                  â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                          â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘                        FRONTEND                                    â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘  Option A        â”‚ Thymeleaf + HTMX + TailwindCSS                 â•‘  â”‚
â”‚  â•‘  Option B        â”‚ React 18 + Vite + TailwindCSS                  â•‘  â”‚
â”‚  â•‘  Charts          â”‚ Chart.js / Recharts                            â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                          â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘                     DEVOPS & TOOLS                                 â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘  Containerizationâ”‚ Docker + Docker Compose                        â•‘  â”‚
â”‚  â•‘  API Docs        â”‚ SpringDoc OpenAPI (Swagger)                    â•‘  â”‚
â”‚  â•‘  Testing         â”‚ JUnit 5 + Mockito + Testcontainers             â•‘  â”‚
â”‚  â•‘  Logging         â”‚ SLF4J + Logback                                â•‘  â”‚
â”‚  â•‘  Monitoring      â”‚ Spring Actuator + Micrometer                   â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Gradle Build Configuration (build.gradle.kts)

```kotlin
import org.jetbrains.kotlin.gradle.tasks.KotlinCompile

plugins {
    java
    id("org.springframework.boot") version "3.3.5"
    id("io.spring.dependency-management") version "1.1.6"
}

group = "com.financegpt"
version = "1.0.0"

java {
    toolchain {
        languageVersion.set(JavaLanguageVersion.of(21))
    }
}

repositories {
    mavenCentral()
    maven { url = uri("https://repo.spring.io/milestone") }
}

extra["springAiVersion"] = "1.0.0-M4"

dependencies {
    // ==================== SPRING BOOT CORE ====================
    implementation("org.springframework.boot:spring-boot-starter-web")
    implementation("org.springframework.boot:spring-boot-starter-validation")
    implementation("org.springframework.boot:spring-boot-starter-actuator")
    
    // ==================== SPRING SECURITY ====================
    implementation("org.springframework.boot:spring-boot-starter-security")
    implementation("io.jsonwebtoken:jjwt-api:0.12.5")
    runtimeOnly("io.jsonwebtoken:jjwt-impl:0.12.5")
    runtimeOnly("io.jsonwebtoken:jjwt-jackson:0.12.5")
    
    // ==================== SPRING AI - GOOGLE GEMINI ====================
    implementation("org.springframework.ai:spring-ai-starter-model-google-genai")
    
    // ==================== REDIS WITH LETTUCE ====================
    implementation("org.springframework.boot:spring-boot-starter-data-redis")
    implementation("io.lettuce:lettuce-core")
    implementation("org.apache.commons:commons-pool2")
    
    // ==================== AWS DYNAMODB ====================
    implementation("software.amazon.awssdk:dynamodb:2.25.16")
    implementation("software.amazon.awssdk:dynamodb-enhanced:2.25.16")
    
    // ==================== UTILITIES ====================
    implementation("com.fasterxml.jackson.core:jackson-databind")
    implementation("com.fasterxml.jackson.datatype:jackson-datatype-jsr310")
    compileOnly("org.projectlombok:lombok")
    annotationProcessor("org.projectlombok:lombok")
    
    // ==================== API DOCUMENTATION ====================
    implementation("org.springdoc:springdoc-openapi-starter-webmvc-ui:2.5.0")
    
    // ==================== FRONTEND (THYMELEAF OPTION) ====================
    implementation("org.springframework.boot:spring-boot-starter-thymeleaf")
    implementation("org.thymeleaf.extras:thymeleaf-extras-springsecurity6")
    
    // ==================== TESTING ====================
    testImplementation("org.springframework.boot:spring-boot-starter-test")
    testImplementation("org.springframework.security:spring-security-test")
    testImplementation("org.testcontainers:testcontainers:1.19.7")
    testImplementation("org.testcontainers:junit-jupiter:1.19.7")
    testImplementation("org.testcontainers:localstack:1.19.7")
    testRuntimeOnly("org.junit.platform:junit-platform-launcher")
}

dependencyManagement {
    imports {
        mavenBom("org.springframework.ai:spring-ai-bom:${property("springAiVersion")}")
    }
}

tasks.withType<Test> {
    useJUnitPlatform()
}
```

### 4.3 Application Configuration (application.yml)

```yaml
# ==================== APPLICATION PROPERTIES ====================
spring:
  application:
    name: financegpt
  
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

# ==================== SPRING AI - GOOGLE GEMINI ====================
  ai:
    google:
      genai:
        api-key: ${GEMINI_API_KEY}
        chat:
          options:
            model: gemini-1.5-flash
            temperature: 0.7
            max-output-tokens: 2048
            top-p: 0.95
            top-k: 40

# ==================== REDIS CONFIGURATION ====================
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}
      timeout: 2000ms
      lettuce:
        pool:
          max-active: 10
          max-idle: 5
          min-idle: 2
          max-wait: 1000ms
        shutdown-timeout: 100ms

# ==================== CACHE CONFIGURATION ====================
  cache:
    type: redis
    redis:
      time-to-live: 3600000  # 1 hour in milliseconds
      cache-null-values: false
      use-key-prefix: true
      key-prefix: "financegpt:"

# ==================== AWS DYNAMODB CONFIGURATION ====================
aws:
  dynamodb:
    endpoint: ${AWS_DYNAMODB_ENDPOINT:http://localhost:8000}
    region: ${AWS_REGION:us-east-1}
    access-key: ${AWS_ACCESS_KEY:local}
    secret-key: ${AWS_SECRET_KEY:local}
  
# ==================== JWT CONFIGURATION ====================
jwt:
  secret: ${JWT_SECRET:your-256-bit-secret-key-for-jwt-token-generation-change-in-production}
  expiration: 86400000  # 24 hours in milliseconds
  refresh-expiration: 604800000  # 7 days in milliseconds

# ==================== SERVER CONFIGURATION ====================
server:
  port: ${SERVER_PORT:8080}
  error:
    include-message: always
    include-binding-errors: always

# ==================== LOGGING CONFIGURATION ====================
logging:
  level:
    root: INFO
    com.financegpt: DEBUG
    org.springframework.ai: DEBUG
    software.amazon.awssdk: WARN
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"

# ==================== ACTUATOR CONFIGURATION ====================
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: when_authorized

# ==================== OPENAPI CONFIGURATION ====================
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
```

---

## 5. Functional Requirements

### 5.1 Functional Requirements Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FUNCTIONAL REQUIREMENTS                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MODULE â”‚  REQUIREMENTS                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚  FR-1.1: User registration with email validation                 â”‚
â”‚  AUTH   â”‚  FR-1.2: User login with JWT token generation                    â”‚
â”‚         â”‚  FR-1.3: Token refresh mechanism                                 â”‚
â”‚         â”‚  FR-1.4: Password reset functionality                            â”‚
â”‚         â”‚  FR-1.5: Account deactivation                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚  FR-2.1: Create income/expense transactions                      â”‚
â”‚  TRANS- â”‚  FR-2.2: Update existing transactions                            â”‚
â”‚  ACTION â”‚  FR-2.3: Delete transactions                                     â”‚
â”‚         â”‚  FR-2.4: List transactions with filters (date, category, type)   â”‚
â”‚         â”‚  FR-2.5: Search transactions by description                      â”‚
â”‚         â”‚  FR-2.6: Bulk import transactions (CSV)                          â”‚
â”‚         â”‚  FR-2.7: Recurring transaction support                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚  FR-3.1: Create category-based budgets                           â”‚
â”‚  BUDGET â”‚  FR-3.2: Set monthly spending limits                             â”‚
â”‚         â”‚  FR-3.3: Track budget utilization                                â”‚
â”‚         â”‚  FR-3.4: Budget alerts at thresholds (50%, 75%, 90%, 100%)       â”‚
â”‚         â”‚  FR-3.5: Budget history and comparisons                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚  FR-4.1: Spending breakdown by category                          â”‚
â”‚  ANALY- â”‚  FR-4.2: Monthly/yearly trends                                   â”‚
â”‚  TICS   â”‚  FR-4.3: Income vs expense comparison                            â”‚
â”‚         â”‚  FR-4.4: Category-wise analysis                                  â”‚
â”‚         â”‚  FR-4.5: Export reports (PDF/CSV)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½ï¿½â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚  FR-5.1: Natural language chat interface                         â”‚
â”‚         â”‚  FR-5.2: Context-aware conversations (remembers history)         â”‚
â”‚   AI    â”‚  FR-5.3: Personalized financial advice                           â”‚
â”‚ ADVISOR â”‚  FR-5.4: Spending pattern analysis                               â”‚
â”‚         â”‚  FR-5.5: Budget recommendations                                  â”‚
â”‚         â”‚  FR-5.6: Anomaly detection in spending                           â”‚
â”‚         â”‚  FR-5.7: Financial goal planning assistance                      â”‚
â”‚         â”‚  FR-5.8: Tool calling for real-time data access                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚  FR-6.1: Create financial goals                                  â”‚
â”‚  GOALS  â”‚  FR-6.2: Track goal progress                                     â”‚
â”‚         â”‚  FR-6.3: AI-suggested savings plans                              â”‚
â”‚         â”‚  FR-6.4: Goal completion notifications                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Use Case Diagrams

```
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚         FINANCEGPT SYSTEM           â”‚
                              â”‚                                     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚      â”‚                  â”‚  â”‚                             â”‚   â”‚
    â”‚      â”‚â”€â”€â”€Registerâ”€â”€â”€â”€â”€â”€â–ºâ”‚  â”‚    User Authentication      â”‚   â”‚
    â”‚      â”‚                  â”‚  â”‚                             â”‚   â”‚
    â”‚      â”‚â”€â”€â”€Loginâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚      â”‚                  â”‚                                     â”‚
    â”‚      â”‚                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚      â”‚â”€â”€â”€Add Expenseâ”€â”€â”€â–ºâ”‚  â”‚                             â”‚   â”‚
    â”‚      â”‚                  â”‚  â”‚   Transaction Management    â”‚   â”‚
    â”‚ USER â”‚â”€â”€â”€View Historyâ”€â”€â–ºâ”‚  â”‚                             â”‚   â”‚
    â”‚      â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚      â”‚                  â”‚                                     â”‚
    â”‚      â”‚                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚      â”‚â”€â”€â”€Set Budgetâ”€â”€â”€â”€â–ºâ”‚  â”‚                             â”‚   â”‚
    â”‚      â”‚                  â”‚  â”‚    Budget Management        â”‚   â”‚
    â”‚      â”‚â”€â”€â”€Check Budgetâ”€â”€â–ºâ”‚  â”‚                             â”‚   â”‚
    â”‚      â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚      â”‚                  â”‚                                     â”‚
    â”‚      â”‚                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚      â”‚â”€â”€â”€Chat with AIâ”€â”€â–ºâ”‚  â”‚                             â”‚   â”‚
    â”‚      â”‚                  â”‚  â”‚      AI Advisor             â”‚â—„â”€â”€â”¼â”€â”€â”
    â”‚      â”‚â”€â”€â”€Get Insightsâ”€â”€â–ºâ”‚  â”‚                             â”‚   â”‚  â”‚
    â”‚      â”‚                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
    â”‚      â”‚                  â”‚                                     â”‚  â”‚
    â”‚      â”‚                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
    â”‚      â”‚â”€â”€â”€View Reportsâ”€â”€â–ºâ”‚  â”‚                             â”‚   â”‚  â”‚
    â”‚      â”‚                  â”‚  â”‚      Analytics              â”‚   â”‚  â”‚
    â””â”€â”€â”€â”€â”€â”€â”˜                  â”‚  â”‚                             â”‚   â”‚  â”‚
                              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
                              â”‚                                     â”‚  â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                                                       â”‚
                                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                                                              â”‚  Google Gemini â”‚
                                                              â”‚      API       â”‚
                                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Non-Functional Requirements

### 6.1 Performance Requirements

| Requirement | Specification |
|-------------|---------------|
| API Response Time | < 200ms for standard operations |
| AI Response Time | < 5 seconds for chat completions |
| Cache Hit Ratio | > 80% for frequently accessed data |
| Concurrent Users | Support 100+ concurrent users |
| Database Query Time | < 50ms for single item operations |
| Page Load Time | < 2 seconds for frontend pages |

### 6.2 Security Requirements

| Requirement | Implementation |
|-------------|----------------|
| Authentication | JWT-based stateless authentication |
| Password Storage | BCrypt hashing with salt |
| API Security | Rate limiting, input validation |
| Data Encryption | TLS 1.3 for data in transit |
| Session Management | Redis-based session storage |
| CORS | Configured allowed origins |

### 6.3 Scalability Requirements

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SCALABILITY STRATEGY                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  HORIZONTAL SCALING                                              â”‚
â”‚  â”œâ”€ Stateless application design                                 â”‚
â”‚  â”œâ”€ Redis for shared session/cache                               â”‚
â”‚  â””â”€ DynamoDB auto-scaling                                        â”‚
â”‚                                                                  â”‚
â”‚  VERTICAL SCALING                                                â”‚
â”‚  â”œâ”€ Configurable JVM heap size                                   â”‚
â”‚  â”œâ”€ Connection pool tuning                                       â”‚
â”‚  â””â”€ Redis cluster mode support                                   â”‚
â”‚                                                                  â”‚
â”‚  CACHING STRATEGY                                                â”‚
â”‚  â”œâ”€ Multi-level caching (L1: Local, L2: Redis)                   â”‚
â”‚  â”œâ”€ Cache-aside pattern for reads                                â”‚
â”‚  â””â”€ Write-through for critical data                              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. Database Design

### 7.1 DynamoDB Table Design

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DYNAMODB TABLE DESIGN                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  TABLE: Users                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Partition Key (PK)  â”‚  USER#<userId>                               â”‚    â”‚
â”‚  â”‚  Sort Key (SK)       â”‚  PROFILE                                     â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  Attributes:                                                        â”‚    â”‚
â”‚  â”‚  â”œâ”€ userId           : String (UUID)                                â”‚    â”‚
â”‚  â”‚  â”œâ”€ email            : String (unique)                              â”‚    â”‚
â”‚  â”‚  â”œâ”€ passwordHash     : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ firstName        : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ lastName         : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ currency         : String (default: USD)                        â”‚    â”‚
â”‚  â”‚  â”œâ”€ timezone         : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ createdAt        : String (ISO-8601)                            â”‚    â”‚
â”‚  â”‚  â”œâ”€ updatedAt        : String (ISO-8601)                            â”‚    â”‚
â”‚  â”‚  â””â”€ isActive         : Boolean                                      â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  GSI-1: email-index                                                 â”‚    â”‚
â”‚  â”‚  â”œâ”€ PK: email                                                       â”‚    â”‚
â”‚  â”‚  â””â”€ Projects: userId, passwordHash, isActive                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  TABLE: Transactions                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Partition Key (PK)  â”‚  USER#<userId>                               â”‚    â”‚
â”‚  â”‚  Sort Key (SK)       â”‚  TXN#<timestamp>#<transactionId>             â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  Attributes:                                                        â”‚    â”‚
â”‚  â”‚  â”œâ”€ transactionId    : String (UUID)                                â”‚    â”‚
â”‚  â”‚  â”œâ”€ userId           : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ type             : String (INCOME | EXPENSE)                    â”‚    â”‚
â”‚  â”‚  â”œâ”€ amount           : Number (Decimal)                             â”‚    â”‚
â”‚  â”‚  â”œâ”€ currency         : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ category         : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ subcategory      : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ description      : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ transactionDate  : String (ISO-8601)                            â”‚    â”‚
â”‚  â”‚  â”œâ”€ createdAt        : String (ISO-8601)                            â”‚    â”‚
â”‚  â”‚  â”œâ”€ updatedAt        : String (ISO-8601)                            â”‚    â”‚
â”‚  â”‚  â”œâ”€ isRecurring      : Boolean                                      â”‚    â”‚
â”‚  â”‚  â”œâ”€ recurringPattern : String (DAILY|WEEKLY|MONTHLY|YEARLY)         ï¿½ï¿½    â”‚
â”‚  â”‚  â””â”€ tags             : List<String>                                 â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  GSI-1: category-date-index                                         â”‚    â”‚
â”‚  â”‚  â”œâ”€ PK: USER#<userId>#CAT#<category>                                â”‚    â”‚
â”‚  â”‚  â”œâ”€ SK: transactionDate                                             â”‚    â”‚
â”‚  â”‚  â””â”€ Projects: All attributes                                        â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚  GSI-2: month-index                                                 â”‚    â”‚
â”‚  â”‚  â”œâ”€ PK: USER#<userId>#MONTH#<YYYY-MM>                               â”‚    â”‚
â”‚  â”‚  â”œâ”€ SK: transactionDate#transactionId                               â”‚    â”‚
â”‚  â”‚  â””â”€ Projects: All attributes                                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  TABLE: Budgets                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Partition Key (PK)  â”‚  USER#<userId>                               â”‚    â”‚
â”‚  â”‚  Sort Key (SK)       â”‚  BUDGET#<YYYY-MM>#<category>                 â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  Attributes:                                                        â”‚    â”‚
â”‚  â”‚  â”œâ”€ budgetId         : String (UUID)                                â”‚    â”‚
â”‚  â”‚  â”œâ”€ userId           : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ category         : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ monthYear        : String (YYYY-MM)                             â”‚    â”‚
â”‚  â”‚  â”œâ”€ limitAmount      : Number                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ spentAmount      : Number                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ currency         : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ alertThresholds  : List<Number> [50, 75, 90, 100]               â”‚    â”‚
â”‚  â”‚  â”œâ”€ alertsSent       : List<Number>                                 â”‚    â”‚
â”‚  â”‚  â”œâ”€ createdAt        : String                                       â”‚    â”‚
â”‚  â”‚  â””â”€ updatedAt        : String                                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  TABLE: AIConversations                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Partition Key (PK)  â”‚  USER#<userId>                               â”‚    â”‚
â”‚  â”‚  Sort Key (SK)       â”‚  CONV#<conversationId>#MSG#<timestamp>       â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  Attributes:                                                        â”‚    â”‚
â”‚  â”‚  â”œâ”€ messageId        : String (UUID)                                â”‚    â”‚
â”‚  â”‚  â”œâ”€ conversationId   : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ role             : String (USER | ASSISTANT | SYSTEM)           â”‚    â”‚
â”‚  â”‚  â”œâ”€ content          : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ timestamp        : String (ISO-8601)                            â”‚    â”‚
â”‚  â”‚  â”œâ”€ tokenCount       : Number                                       â”‚    â”‚
â”‚  â”‚  â””â”€ metadata         : Map<String, String>                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  TABLE: FinancialGoals                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Partition Key (PK)  â”‚  USER#<userId>                               â”‚    â”‚
â”‚  â”‚  Sort Key (SK)       â”‚  GOAL#<goalId>                               â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  Attributes:                                                        â”‚    â”‚
â”‚  â”‚  â”œâ”€ goalId           : String (UUID)                                â”‚    â”‚
â”‚  â”‚  â”œâ”€ userId           : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ name             : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ description      : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ targetAmount     : Number                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ currentAmount    : Number                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ currency         : String                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ targetDate       : String (ISO-8601)                            â”‚    â”‚
â”‚  â”‚  â”œâ”€ status           : String (ACTIVE|COMPLETED|CANCELLED)          â”‚    â”‚
â”‚  â”‚  â”œâ”€ priority         : String (HIGH|MEDIUM|LOW)                     â”‚    â”‚
â”‚  â”‚  â”œâ”€ createdAt        : String                                       â”‚    â”‚
â”‚  â”‚  â””â”€ updatedAt        : String                                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 Entity Relationship Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ENTITY RELATIONSHIP DIAGRAM                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚    â”‚       USER       â”‚                                                     â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                     â”‚
â”‚    â”‚ PK: userId       â”‚                                                     â”‚
â”‚    â”‚ email (unique)   â”‚                                                     â”‚
â”‚    â”‚ passwordHash     â”‚                                                     â”‚
â”‚    â”‚ firstName        â”‚                                                     â”‚
â”‚    â”‚ lastName         â”‚                                                     â”‚
â”‚    â”‚ currency         â”‚                                                     â”‚
â”‚    â”‚ timezone         â”‚                                                     â”‚
â”‚    â”‚ createdAt        â”‚                                                     â”‚
â”‚    â”‚ isActive         â”‚                                                     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                     â”‚
â”‚             â”‚                                                                â”‚
â”‚             â”‚ 1:N                                                            â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚    â”‚        â”‚                        â”‚                     â”‚                â”‚
â”‚    â–¼        â–¼                        â–¼                     â–¼                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚ â”‚   TRANSACTION    â”‚  â”‚     BUDGET       â”‚  â”‚ AI_CONVERSATION  â”‚           â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚ â”‚ PK: transactionIdâ”‚  â”‚ PK: budgetId     â”‚  â”‚ PK: conversationIdâ”‚          â”‚
â”‚ â”‚ FK: userId       â”‚  â”‚ FK: userId       â”‚  â”‚ FK: userId       â”‚           â”‚
â”‚ â”‚ type             â”‚  â”‚ category         â”‚  â”‚ messages[]       â”‚           â”‚
â”‚ â”‚ amount           â”‚  â”‚ monthYear        â”‚  â”‚ createdAt        â”‚           â”‚
â”‚ â”‚ category         â”‚  â”‚ limitAmount      â”‚  â”‚ lastMessageAt    â”‚           â”‚
â”‚ â”‚ subcategory      â”‚  â”‚ spentAmount      â”‚  â”‚ tokenCount       â”‚           â”‚
â”‚ â”‚ description      â”‚  â”‚ alertThresholds[]â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚ â”‚ transactionDate  â”‚  â”‚ alertsSent[]     â”‚                                 â”‚
â”‚ â”‚ isRecurring      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚                     â”‚
â”‚ â”‚ tags[]           â”‚                                 â”‚                     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚                     â”‚
â”‚         â”‚                                            â”‚                     â”‚
â”‚         â”‚ Updates                                    â”‚ 1:N                 â”‚
â”‚         â–¼                                            â–¼                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚ â”‚  BUDGET (spent)  â”‚                     â”‚  FINANCIAL_GOAL  â”‚              â”‚
â”‚ â”‚  Auto-updated    â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚ â”‚  on transaction  â”‚                     â”‚ PK: goalId       â”‚              â”‚
â”‚ â”‚  create/update   â”‚                     â”‚ FK: userId       â”‚              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ name             â”‚              â”‚
â”‚                                          â”‚ targetAmount     â”‚              â”‚
â”‚                                          â”‚ currentAmount    â”‚              â”‚
â”‚                                          â”‚ targetDate       â”‚              â”‚
â”‚                                          â”‚ status           â”‚              â”‚
â”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3 DynamoDB Table Creation Scripts

```java
// DynamoDB Table Creation - Infrastructure Code
public class DynamoDBTableCreator {
    
    public static CreateTableRequest createUsersTable() {
        return CreateTableRequest.builder()
            .tableName("financegpt-users")
            .keySchema(
                KeySchemaElement.builder()
                    .attributeName("PK")
                    .keyType(KeyType.HASH)
                    .build(),
                KeySchemaElement.builder()
                    .attributeName("SK")
                    .keyType(KeyType.RANGE)
                    .build()
            )
            .attributeDefinitions(
                AttributeDefinition.builder()
                    .attributeName("PK")
                    .attributeType(ScalarAttributeType.S)
                    .build(),
                AttributeDefinition.builder()
                    .attributeName("SK")
                    .attributeType(ScalarAttributeType.S)
                    .build(),
                AttributeDefinition.builder()
                    .attributeName("email")
                    .attributeType(ScalarAttributeType.S)
                    .build()
            )
            .globalSecondaryIndexes(
                GlobalSecondaryIndex.builder()
                    .indexName("email-index")
                    .keySchema(
                        KeySchemaElement.builder()
                            .attributeName("email")
                            .keyType(KeyType.HASH)
                            .build()
                    )
                    .projection(Projection.builder()
                        .projectionType(ProjectionType.INCLUDE)
                        .nonKeyAttributes("userId", "passwordHash", "isActive")
                        .build())
                    .provisionedThroughput(ProvisionedThroughput.builder()
                        .readCapacityUnits(5L)
                        .writeCapacityUnits(5L)
                        .build())
                    .build()
            )
            .provisionedThroughput(ProvisionedThroughput.builder()
                .readCapacityUnits(5L)
                .writeCapacityUnits(5L)
                .build())
            .build();
    }
    
    public static CreateTableRequest createTransactionsTable() {
        return CreateTableRequest.builder()
            .tableName("financegpt-transactions")
            .keySchema(
                KeySchemaElement.builder()
                    .attributeName("PK")
                    .keyType(KeyType.HASH)
                    .build(),
                KeySchemaElement.builder()
                    .attributeName("SK")
                    .keyType(KeyType.RANGE)
                    .build()
            )
            .attributeDefinitions(
                AttributeDefinition.builder()
                    .attributeName("PK")
                    .attributeType(ScalarAttributeType.S)
                    .build(),
                AttributeDefinition.builder()
                    .attributeName("SK")
                    .attributeType(ScalarAttributeType.S)
                    .build(),
                AttributeDefinition.builder()
                    .attributeName("GSI1PK")
                    .attributeType(ScalarAttributeType.S)
                    .build(),
                AttributeDefinition.builder()
                    .attributeName("GSI1SK")
                    .attributeType(ScalarAttributeType.S)
                    .build(),
                AttributeDefinition.builder()
                    .attributeName("GSI2PK")
                    .attributeType(ScalarAttributeType.S)
                    .build(),
                AttributeDefinition.builder()
                    .attributeName("GSI2SK")
                    .attributeType(ScalarAttributeType.S)
                    .build()
            )
            .globalSecondaryIndexes(
                GlobalSecondaryIndex.builder()
                    .indexName("category-date-index")
                    .keySchema(
                        KeySchemaElement.builder()
                            .attributeName("GSI1PK")
                            .keyType(KeyType.HASH)
                            .build(),
                        KeySchemaElement.builder()
                            .attributeName("GSI1SK")
                            .keyType(KeyType.RANGE)
                            .build()
                    )
                    .projection(Projection.builder()
                        .projectionType(ProjectionType.ALL)
                        .build())
                    .provisionedThroughput(ProvisionedThroughput.builder()
                        .readCapacityUnits(5L)
                        .writeCapacityUnits(5L)
                        .build())
                    .build(),
                GlobalSecondaryIndex.builder()
                    .indexName("month-index")
                    .keySchema(
                        KeySchemaElement.builder()
                            .attributeName("GSI2PK")
                            .keyType(KeyType.HASH)
                            .build(),
                        KeySchemaElement.builder()
                            .attributeName("GSI2SK")
                            .keyType(KeyType.RANGE)
                            .build()
                    )
                    .projection(Projection.builder()
                        .projectionType(ProjectionType.ALL)
                        .build())
                    .provisionedThroughput(ProvisionedThroughput.builder()
                        .readCapacityUnits(5L)
                        .writeCapacityUnits(5L)
                        .build())
                    .build()
            )
            .provisionedThroughput(ProvisionedThroughput.builder()
                .readCapacityUnits(5L)
                .writeCapacityUnits(5L)
                .build())
            .build();
    }
}
```

---

## 8. API Specification

### 8.1 API Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           API ENDPOINTS OVERVIEW                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Base URL: /api/v1                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  ğŸ” AUTHENTICATION (/auth)                                                  â”‚
â”‚  â”œâ”€ POST   /auth/register        - Register new user                       â”‚
â”‚  â”œâ”€ POST   /auth/login           - User login                              â”‚
â”‚  â”œâ”€ POST   /auth/refresh         - Refresh access token                    â”‚
â”‚  â”œâ”€ POST   /auth/logout          - User logout                             â”‚
â”‚  â””â”€ POST   /auth/forgot-password - Request password reset                  â”‚
â”‚                                                                              â”‚
â”‚  ğŸ‘¤ USER (/users)                                                           â”‚
â”‚  â”œâ”€ GET    /users/me             - Get current user profile                â”‚
â”‚  â”œâ”€ PUT    /users/me             - Update user profile                     â”‚
â”‚  â”œâ”€ DELETE /users/me             - Deactivate account                      â”‚
â”‚  â””â”€ PUT    /users/me/password    - Change password                         â”‚
â”‚                                                                              â”‚
â”‚  ğŸ’³ TRANSACTIONS (/transactions)                                            â”‚
â”‚  â”œâ”€ POST   /transactions         - Create transaction                      â”‚
â”‚  â”œâ”€ GET    /transactions         - List transactions (with filters)        â”‚
â”‚  â”œâ”€ GET    /transactions/{id}    - Get transaction by ID                   â”‚
â”‚  â”œâ”€ PUT    /transactions/{id}    - Update transaction                      â”‚
â”‚  â”œâ”€ DELETE /transactions/{id}    - Delete transaction                      â”‚
â”‚  â”œâ”€ POST   /transactions/bulk    - Bulk import transactions                â”‚
â”‚  â””â”€ GET    /transactions/search  - Search transactions                     â”‚
â”‚                                                                              â”‚
â”‚  ğŸ’° BUDGETS (/budgets)                                                      â”‚
â”‚  â”œâ”€ POST   /budgets              - Create budget                           â”‚
â”‚  â”œâ”€ GET    /budgets              - List budgets                            â”‚
â”‚  â”œâ”€ GET    /budgets/{id}         - Get budget by ID                        â”‚
â”‚  â”œâ”€ PUT    /budgets/{id}         - Update budget                           â”‚
â”‚  â”œâ”€ DELETE /budgets/{id}         - Delete budget                           â”‚
â”‚  â””â”€ GET    /budgets/status       - Get budget status summary               â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“Š ANALYTICS (/analytics)                                                  â”‚
â”‚  â”œâ”€ GET    /analytics/summary    - Get financial summary                   â”‚
â”‚  â”œâ”€ GET    /analytics/spending   - Get spending breakdown                  â”‚
â”‚  â”œâ”€ GET    /analytics/trends     - Get spending trends                     â”‚
â”‚  â”œâ”€ GET    /analytics/categories - Get category-wise analysis              â”‚
â”‚  â””â”€ GET    /analytics/export     - Export report (PDF/CSV)                 â”‚
â”‚                                                                              â”‚
â”‚  ğŸ¤– AI ADVISOR (/ai)                                                        â”‚
â”‚  â”œâ”€ POST   /ai/chat              - Send message to AI advisor              â”‚
â”‚  â”œâ”€ GET    /ai/conversations     - List conversations                      â”‚
â”‚  â”œâ”€ GET    /ai/conversations/{id}- Get conversation history                â”‚
â”‚  â”œâ”€ DELETE /ai/conversations/{id}- Delete conversation                     â”‚
â”‚  â””â”€ GET    /ai/insights          - Get AI-generated insights               â”‚
â”‚                                                                              â”‚
â”‚  ğŸ¯ GOALS (/goals)                                                          â”‚
â”‚  â”œâ”€ POST   /goals                - Create financial goal                   â”‚
â”‚  â”œâ”€ GET    /goals                - List goals                              â”‚
â”‚  â”œâ”€ GET    /goals/{id}           - Get goal by ID                          â”‚
â”‚  â”œâ”€ PUT    /goals/{id}           - Update goal                             â”‚
â”‚  â”œâ”€ DELETE /goals/{id}           - Delete goal                             â”‚
â”‚  â””â”€ POST   /goals/{id}/contribute- Add contribution to goal                â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 Authentication API Details

#### Register User
```
POST /api/v1/auth/register
Content-Type: application/json

Request:
{
    "email": "user@example.com",
    "password": "SecurePass123!",
    "firstName": "John",
    "lastName": "Doe",
    "currency": "USD",
    "timezone": "America/New_York"
}

Response (201 Created):
{
    "success": true,
    "data": {
        "userId": "550e8400-e29b-41d4-a716-446655440000",
        "email": "user@example.com",
        "firstName": "John",
        "lastName": "Doe",
        "createdAt": "2026-01-27T10:30:00Z"
    },
    "message": "User registered successfully"
}

Error Response (400 Bad Request):
{
    "success": false,
    "error": {
        "code": "VALIDATION_ERROR",
        "message": "Email already exists",
        "details": []
    }
}
```

#### Login User
```
POST /api/v1/auth/login
Content-Type: application/json

Request:
{
    "email": "user@example.com",
    "password": "SecurePass123!"
}

Response (200 OK):
{
    "success": true,
    "data": {
        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "tokenType": "Bearer",
        "expiresIn": 86400,
        "user": {
            "userId": "550e8400-e29b-41d4-a716-446655440000",
            "email": "user@example.com",
            "firstName": "John",
            "lastName": "Doe"
        }
    }
}
```

### 8.3 Transaction API Details

#### Create Transaction
```
POST /api/v1/transactions
Authorization: Bearer {accessToken}
Content-Type: application/json

Request:
{
    "type": "EXPENSE",
    "amount": 45.99,
    "currency": "USD",
    "category": "Food & Dining",
    "subcategory": "Restaurants",
    "description": "Dinner at Italian Restaurant",
    "transactionDate": "2026-01-27",
    "isRecurring": false,
    "tags": ["dinner", "date-night"]
}

Response (201 Created):
{
    "success": true,
    "data": {
        "transactionId": "txn_123456789",
        "userId": "550e8400-e29b-41d4-a716-446655440000",
        "type": "EXPENSE",
        "amount": 45.99,
        "currency": "USD",
        "category": "Food & Dining",
        "subcategory": "Restaurants",
        "description": "Dinner at Italian Restaurant",
        "transactionDate": "2026-01-27",
        "createdAt": "2026-01-27T20:30:00Z",
        "isRecurring": false,
        "tags": ["dinner", "date-night"]
    }
}
```

#### List Transactions with Filters
```
GET /api/v1/transactions?startDate=2026-01-01&endDate=2026-01-31&category=Food&type=EXPENSE&page=0&size=20
Authorization: Bearer {accessToken}

Response (200 OK):
{
    "success": true,
    "data": {
        "transactions": [
            {
                "transactionId": "txn_123456789",
                "type": "EXPENSE",
                "amount": 45.99,
                "category": "Food & Dining",
                "description": "Dinner at Italian Restaurant",
                "transactionDate": "2026-01-27"
            }
        ],
        "pagination": {
            "currentPage": 0,
            "pageSize": 20,
            "totalElements": 45,
            "totalPages": 3,
            "hasNext": true,
            "hasPrevious": false
        }
    }
}
```

### 8.4 AI Chat API Details

#### Send Message to AI Advisor
```
POST /api/v1/ai/chat
Authorization: Bearer {accessToken}
Content-Type: application/json

Request:
{
    "conversationId": "conv_123456789",  // Optional, omit for new conversation
    "message": "How much did I spend on food this month?"
}

Response (200 OK):
{
    "success": true,
    "data": {
        "conversationId": "conv_123456789",
        "messageId": "msg_987654321",
        "response": "Based on your transactions this month, you've spent $342.50 on Food & Dining. This breaks down to:\n\n- Restaurants: $180.00 (52%)\n- Groceries: $120.50 (35%)\n- Coffee Shops: $42.00 (13%)\n\nThis is 15% higher than your average monthly food spending of $298. Would you like me to suggest some ways to reduce your food expenses?",
        "suggestedActions": [
            "View food spending breakdown",
            "Set a food budget",
            "Compare with last month"
        ],
        "metadata": {
            "tokensUsed": 245,
            "processingTime": "1.2s",
            "toolsUsed": ["getTransactionsByCategory", "calculateMonthlyAverage"]
        }
    }
}
```

### 8.5 Standard Response Format

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        STANDARD API RESPONSE FORMAT                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  SUCCESS RESPONSE:                                                          â”‚
â”‚  {                                                                          â”‚
â”‚      "success": true,                                                       â”‚
â”‚      "data": { ... },                                                       â”‚
â”‚      "message": "Optional success message",                                 â”‚
â”‚      "timestamp": "2026-01-27T10:30:00Z"                                    â”‚
â”‚  }                                                                          â”‚
â”‚                                                                              â”‚
â”‚  ERROR RESPONSE:                                                            â”‚
â”‚  {                                                                          â”‚
â”‚      "success": false,                                                      â”‚
â”‚      "error": {                                                             â”‚
â”‚          "code": "ERROR_CODE",                                              â”‚
â”‚          "message": "Human readable error message",                         â”‚
â”‚          "details": [                                                       â”‚
â”‚              {                                                              â”‚
â”‚                  "field": "email",                                          â”‚
â”‚                  "message": "Invalid email format"                          â”‚
â”‚              }                                                              â”‚
â”‚          ],                                                                 â”‚
â”‚          "traceId": "abc123xyz"                                             â”‚
â”‚      },                                                                     â”‚
â”‚      "timestamp": "2026-01-27T10:30:00Z"                                    â”‚
â”‚  }                                                                          â”‚
â”‚                                                                              â”‚
â”‚  HTTP STATUS CODES:                                                         â”‚
â”‚  â”œâ”€ 200 OK           - Successful GET, PUT, PATCH                          â”‚
â”‚  â”œâ”€ 201 Created      - Successful POST                                     â”‚
â”‚  â”œâ”€ 204 No Content   - Successful DELETE                                   â”‚
â”‚  â”œâ”€ 400 Bad Request  - Validation error                                    â”‚
â”‚  â”œâ”€ 401 Unauthorized - Missing/invalid token                               â”‚
â”‚  â”œâ”€ 403 Forbidden    - Insufficient permissions                            â”‚
â”‚  â”œâ”€ 404 Not Found    - Resource not found                                  â”‚
â”‚  â”œâ”€ 409 Conflict     - Resource conflict                                   â”‚
â”‚  â”œâ”€ 429 Too Many     - Rate limit exceeded                                 â”‚
â”‚  â””â”€ 500 Server Error - Internal server error                               â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. Security Implementation

### 9.1 Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SECURITY ARCHITECTURE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      SECURITY LAYERS                                 â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   Layer 1: Transport Security                                       â”‚    â”‚
â”‚  â”‚   â”œâ”€ TLS 1.3 encryption                                             â”‚    â”‚
â”‚  â”‚   â”œâ”€ HTTPS only (redirect HTTP)                                     â”‚    â”‚
â”‚  â”‚   â””â”€ Certificate pinning (optional)                                 â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   Layer 2: API Gateway Security                                     â”‚    â”‚
â”‚  â”‚   â”œâ”€ Rate limiting (Redis-based)                                    â”‚    â”‚
â”‚  â”‚   â”œâ”€ Request validation                                             â”‚    â”‚
â”‚  â”‚   â”œâ”€ CORS configuration                                             â”‚    â”‚
â”‚  â”‚   â””â”€ Request size limits                                            â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   Layer 3: Authentication                                           â”‚    â”‚
â”‚  â”‚   â”œâ”€ JWT token validation                                           â”‚    â”‚
â”‚  â”‚   â”œâ”€ Token expiration checking                                      â”‚    â”‚
â”‚  â”‚   â”œâ”€ Refresh token rotation                                         â”‚    â”‚
â”‚  â”‚   â””â”€ Session blacklisting                                           â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   Layer 4: Authorization                                            â”‚    â”‚
â”‚  â”‚   â”œâ”€ Role-based access control                                      â”‚    â”‚
â”‚  â”‚   â”œâ”€ Resource ownership validation                                  â”‚    â”‚
â”‚  â”‚   â””â”€ Method-level security                                          â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   Layer 5: Data Security                                            â”‚    â”‚
â”‚  â”‚   â”œâ”€ Password hashing (BCrypt)                                      â”‚    â”‚
â”‚  â”‚   â”œâ”€ Sensitive data encryption                                      â”‚    â”‚
â”‚  â”‚   â”œâ”€ SQL/NoSQL injection prevention                                 â”‚    â”‚
â”‚  â”‚   â””â”€ XSS protection                                                 â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 JWT Implementation

```java
// JWT Token Provider
@Component
public class JwtTokenProvider {
    
    @Value("${jwt.secret}")
    private String jwtSecret;
    
    @Value("${jwt.expiration}")
    private long jwtExpiration;
    
    @Value("${jwt.refresh-expiration}")
    private long refreshExpiration;
    
    private SecretKey getSigningKey() {
        byte[] keyBytes = Decoders.BASE64.decode(jwtSecret);
        return Keys.hmacShaKeyFor(keyBytes);
    }
    
    public String generateAccessToken(UserDetails userDetails) {
        Map<String, Object> claims = new HashMap<>();
        claims.put("roles", userDetails.getAuthorities().stream()
            .map(GrantedAuthority::getAuthority)
            .collect(Collectors.toList()));
        
        return Jwts.builder()
            .claims(claims)
            .subject(userDetails.getUsername())
            .issuedAt(new Date())
            .expiration(new Date(System.currentTimeMillis() + jwtExpiration))
            .signWith(getSigningKey())
            .compact();
    }
    
    public String generateRefreshToken(UserDetails userDetails) {
        return Jwts.builder()
            .subject(userDetails.getUsername())
            .issuedAt(new Date())
            .expiration(new Date(System.currentTimeMillis() + refreshExpiration))
            .signWith(getSigningKey())
            .compact();
    }
    
    public boolean validateToken(String token) {
        try {
            Jwts.parser()
                .verifyWith(getSigningKey())
                .build()
                .parseSignedClaims(token);
            return true;
        } catch (JwtException | IllegalArgumentException e) {
            return false;
        }
    }
    
    public String extractUsername(String token) {
        return Jwts.parser()
            .verifyWith(getSigningKey())
            .build()
            .parseSignedClaims(token)
            .getPayload()
            .getSubject();
    }
}
```

### 9.3 Security Configuration

```java
@Configuration
@EnableWebSecurity
@EnableMethodSecurity
public class SecurityConfig {
    
    private final JwtAuthenticationFilter jwtAuthFilter;
    private final AuthenticationProvider authenticationProvider;
    
    @Bean
    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {
        http
            .csrf(csrf -> csrf.disable())
            .cors(cors -> cors.configurationSource(corsConfigurationSource()))
            .sessionManagement(session -> 
                session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))
            .exceptionHandling(ex -> ex
                .authenticationEntryPoint(new JwtAuthenticationEntryPoint())
                .accessDeniedHandler(new CustomAccessDeniedHandler()))
            .authorizeHttpRequests(auth -> auth
                .requestMatchers("/api/v1/auth/**").permitAll()
                .requestMatchers("/swagger-ui/**", "/api-docs/**").permitAll()
                .requestMatchers("/actuator/health").permitAll()
                .anyRequest().authenticated())
            .authenticationProvider(authenticationProvider)
            .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);
        
        return http.build();
    }
    
    @Bean
    public CorsConfigurationSource corsConfigurationSource() {
        CorsConfiguration configuration = new CorsConfiguration();
        configuration.setAllowedOrigins(List.of("http://localhost:3000"));
        configuration.setAllowedMethods(List.of("GET", "POST", "PUT", "DELETE", "OPTIONS"));
        configuration.setAllowedHeaders(List.of("*"));
        configuration.setAllowCredentials(true);
        configuration.setMaxAge(3600L);
        
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
        source.registerCorsConfiguration("/**", configuration);
        return source;
    }
    
    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder(12);
    }
}
```

### 9.4 Rate Limiting with Redis

```java
@Component
public class RateLimitingFilter extends OncePerRequestFilter {
    
    private final RedisTemplate<String, String> redisTemplate;
    
    private static final int MAX_REQUESTS_PER_MINUTE = 60;
    private static final int MAX_AI_REQUESTS_PER_MINUTE = 10;
    
    @Override
    protected void doFilterInternal(HttpServletRequest request, 
                                    HttpServletResponse response, 
                                    FilterChain filterChain) 
            throws ServletException, IOException {
        
        String clientId = extractClientId(request);
        String endpoint = request.getRequestURI();
        
        int limit = endpoint.startsWith("/api/v1/ai") 
            ? MAX_AI_REQUESTS_PER_MINUTE 
            : MAX_REQUESTS_PER_MINUTE;
        
        String key = "rate_limit:" + clientId + ":" + endpoint;
        
        Long currentCount = redisTemplate.opsForValue().increment(key);
        
        if (currentCount == 1) {
            redisTemplate.expire(key, 1, TimeUnit.MINUTES);
        }
        
        if (currentCount > limit) {
            response.setStatus(HttpStatus.TOO_MANY_REQUESTS.value());
            response.setContentType(MediaType.APPLICATION_JSON_VALUE);
            response.getWriter().write(
                "{\"success\":false,\"error\":{\"code\":\"RATE_LIMIT_EXCEEDED\",\"message\":\"Too many requests\"}}"
            );
            return;
        }
        
        response.setHeader("X-RateLimit-Limit", String.valueOf(limit));
        response.setHeader("X-RateLimit-Remaining", String.valueOf(limit - currentCount));
        
        filterChain.doFilter(request, response);
    }
    
    private String extractClientId(HttpServletRequest request) {
        String userId = (String) request.getAttribute("userId");
        if (userId != null) return userId;
        
        String ip = request.getHeader("X-Forwarded-For");
        if (ip == null) ip = request.getRemoteAddr();
        return ip;
    }
}
```

---

## 10. AI Integration

### 10.1 Spring AI Configuration

```java
@Configuration
public class AIConfig {
    
    @Bean
    public ChatClient chatClient(ChatModel chatModel) {
        return ChatClient.builder(chatModel)
            .defaultSystem("""
                You are FinanceGPT, an AI-powered financial advisor assistant.
                You help users manage their personal finances by:
                - Analyzing spending patterns
                - Providing budget recommendations
                - Offering personalized financial advice
                - Answering questions about their financial data
                
                Always be helpful, accurate, and considerate of the user's financial situation.
                When providing advice, explain your reasoning clearly.
                If you need more information to provide accurate advice, ask the user.
                Never make assumptions about the user's financial data - always use the provided tools.
                """)
            .defaultFunctions("getTransactionsByCategory", "getMonthlySpending", 
                            "getBudgetStatus", "getFinancialSummary", "getGoalProgress")
            .build();
    }
}
```

### 10.2 AI Service Implementation

```java
@Service
@Slf4j
public class AIService {
    
    private final ChatClient chatClient;
    private final ConversationRepository conversationRepository;
    private final RedisTemplate<String, String> redisTemplate;
    private final ObjectMapper objectMapper;
    
    private static final int MAX_CONTEXT_MESSAGES = 10;
    private static final String CONTEXT_CACHE_PREFIX = "ai:context:";
    
    public AIChatResponse processChat(String userId, String conversationId, String userMessage) {
        // Get or create conversation
        String convId = conversationId != null ? conversationId : UUID.randomUUID().toString();
        
        // Load conversation context from cache or database
        List<Message> contextMessages = loadConversationContext(userId, convId);
        
        // Add user message to context
        contextMessages.add(new UserMessage(userMessage));
        
        // Build prompt with user's financial context
        String financialContext = buildFinancialContext(userId);
        
        // Call AI with function calling support
        ChatResponse response = chatClient.prompt()
            .system(s -> s.text(financialContext))
            .messages(contextMessages)
            .call()
            .chatResponse();
        
        String assistantMessage = response.getResult().getOutput().getContent();
        
        // Save conversation
        saveConversation(userId, convId, userMessage, assistantMessage);
        
        // Update context cache
        updateContextCache(userId, convId, contextMessages, assistantMessage);
        
        return AIChatResponse.builder()
            .conversationId(convId)
            .messageId(UUID.randomUUID().toString())
            .response(assistantMessage)
            .metadata(extractMetadata(response))
            .build();
    }
    
    private String buildFinancialContext(String userId) {
        // Fetch user's recent financial data for context
        return String.format("""
            Current user context:
            - User ID: %s
            - Current month spending: Use getMonthlySpending tool
            - Budget status: Use getBudgetStatus tool
            - Recent transactions: Use getTransactionsByCategory tool
            
            Use the available tools to fetch real-time financial data when answering questions.
            """, userId);
    }
    
    private List<Message> loadConversationContext(String userId, String conversationId) {
        String cacheKey = CONTEXT_CACHE_PREFIX + userId + ":" + conversationId;
        String cachedContext = redisTemplate.opsForValue().get(cacheKey);
        
        if (cachedContext != null) {
            try {
                return objectMapper.readValue(cachedContext, 
                    new TypeReference<List<Message>>() {});
            } catch (JsonProcessingException e) {
                log.warn("Failed to parse cached context", e);
            }
        }
        
        // Load from database if not in cache
        return conversationRepository.getRecentMessages(userId, conversationId, MAX_CONTEXT_MESSAGES);
    }
}
```

### 10.3 AI Function Tools

```java
@Component
public class FinancialTools {
    
    private final TransactionService transactionService;
    private final BudgetService budgetService;
    private final AnalyticsService analyticsService;
    private final GoalService goalService;
    
    @Tool(description = "Get transactions filtered by category for the current user")
    public List<TransactionSummary> getTransactionsByCategory(
            @ToolParam(description = "The category to filter by") String category,
            @ToolParam(description = "Start date in YYYY-MM-DD format") String startDate,
            @ToolParam(description = "End date in YYYY-MM-DD format") String endDate) {
        
        String userId = SecurityUtils.getCurrentUserId();
        return transactionService.getByCategory(userId, category, 
            LocalDate.parse(startDate), LocalDate.parse(endDate));
    }
    
    @Tool(description = "Get monthly spending summary for the current user")
    public MonthlySpendingSummary getMonthlySpending(
            @ToolParam(description = "Month in YYYY-MM format") String month) {
        
        String userId = SecurityUtils.getCurrentUserId();
        return analyticsService.getMonthlySpending(userId, YearMonth.parse(month));
    }
    
    @Tool(description = "Get current budget status for all categories")
    public List<BudgetStatus> getBudgetStatus() {
        String userId = SecurityUtils.getCurrentUserId();
        return budgetService.getCurrentBudgetStatus(userId);
    }
    
    @Tool(description = "Get overall financial summary including income, expenses, and savings")
    public FinancialSummary getFinancialSummary(
            @ToolParam(description = "Period: 'month', 'quarter', or 'year'") String period) {
        
        String userId = SecurityUtils.getCurrentUserId();
        return analyticsService.getFinancialSummary(userId, period);
    }
    
    @Tool(description = "Get progress towards financial goals")
    public List<GoalProgress> getGoalProgress() {
        String userId = SecurityUtils.getCurrentUserId();
        return goalService.getAllGoalsProgress(userId);
    }
}
```

### 10.4 AI Prompt Templates

```java
public class PromptTemplates {
    
    public static final String SPENDING_ANALYSIS = """
        Analyze the following spending data for the user:
        
        Monthly spending by category:
        {spendingData}
        
        Previous month comparison:
        {comparisonData}
        
        Budget status:
        {budgetStatus}
        
        Please provide:
        1. A summary of spending patterns
        2. Notable changes from last month
        3. Categories where the user is over/under budget
        4. 2-3 specific recommendations for improvement
        """;
    
    public static final String BUDGET_RECOMMENDATION = """
        Based on the user's financial data:
        
        Monthly Income: {income}
        Current Spending by Category:
        {currentSpending}
        
        Financial Goals:
        {goals}
        
        Create a recommended monthly budget allocation following the 50/30/20 rule
        (50% needs, 30% wants, 20% savings) adjusted for their specific situation.
        
        Provide specific dollar amounts for each category.
        """;
    
    public static final String ANOMALY_DETECTION = """
        Review the following recent transactions for potential anomalies:
        
        Recent Transactions:
        {transactions}
        
        Historical Averages:
        {historicalAverages}
        
        Identify any:
        1. Unusually large transactions
        2. Unexpected categories
        3. Duplicate or suspicious charges
        4. Significant deviations from normal patterns
        
        Flag anything that the user should review.
        """;
}
```

---

## 11. Caching Strategy

### 11.1 Redis Cache Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         REDIS CACHING STRATEGY                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                       CACHE LAYERS                                   â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   L1 CACHE (Local/In-Memory)                                        â”‚    â”‚
â”‚  â”‚   â”œâ”€ Caffeine cache for hot data                                    â”‚    â”‚
â”‚  â”‚   â”œâ”€ TTL: 5 minutes                                                 â”‚    â”‚
â”‚  â”‚   â”œâ”€ Size: 1000 entries                                             â”‚    â”‚
â”‚  â”‚   â””â”€ Use: Frequently accessed, read-heavy data                      â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   L2 CACHE (Redis)                                                  â”‚    â”‚
â”‚  â”‚   â”œâ”€ Distributed cache                                              â”‚    â”‚
â”‚  â”‚   â”œâ”€ TTL: Varies by data type                                       â”‚    â”‚
â”‚  â”‚   â””â”€ Use: Shared data across instances                              â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      CACHE KEY STRUCTURE                             â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   Pattern: {prefix}:{entity}:{userId}:{identifier}                  â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   Examples:                                                         â”‚    â”‚
â”‚  â”‚   â”œâ”€ financegpt:user:123:profile                                    â”‚    â”‚
â”‚  â”‚   â”œâ”€ financegpt:transactions:123:2026-01                            â”‚    â”‚
â”‚  â”‚   â”œâ”€ financegpt:budget:123:2026-01:Food                             â”‚    â”‚
â”‚  â”‚   â”œâ”€ financegpt:analytics:123:monthly-summary                       â”‚    â”‚
â”‚  â”‚   â”œâ”€ financegpt:ai:context:123:conv_456                             â”‚    â”‚
â”‚  â”‚   â””â”€ rate_limit:123:/api/v1/transactions                            â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      TTL CONFIGURATION                               â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   Data Type                â”‚  TTL          â”‚  Reason                 â”‚    â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚    â”‚
â”‚  â”‚   User Profile             â”‚  1 hour       â”‚  Rarely changes         â”‚    â”‚
â”‚  â”‚   Monthly Transactions     â”‚  15 minutes   â”‚  Moderate updates       â”‚    â”‚
â”‚  â”‚   Budget Status            â”‚  5 minutes    â”‚  Frequent updates       â”‚    â”‚
â”‚  â”‚   Analytics Summary        â”‚  30 minutes   â”‚  Computed data          â”‚    â”‚
â”‚  â”‚   AI Conversation Context  â”‚  2 hours      â”‚  Session-based          â”‚    â”‚
â”‚  â”‚   Rate Limit Counters      â”‚  1 minute     â”‚  Rolling window         â”‚    â”‚
â”‚  â”‚   Session Data             â”‚  24 hours     â”‚  User session           â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11.2 Redis Configuration

```java
@Configuration
@EnableCaching
public class RedisConfig {
    
    @Bean
    public LettuceConnectionFactory lettuceConnectionFactory(
            @Value("${spring.data.redis.host}") String host,
            @Value("${spring.data.redis.port}") int port,
            @Value("${spring.data.redis.password}") String password) {
        
        RedisStandaloneConfiguration config = new RedisStandaloneConfiguration();
        config.setHostName(host);
        config.setPort(port);
        if (!password.isEmpty()) {
            config.setPassword(RedisPassword.of(password));
        }
        
        LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()
            .commandTimeout(Duration.ofSeconds(2))
            .shutdownTimeout(Duration.ofMillis(100))
            .clientOptions(ClientOptions.builder()
                .autoReconnect(true)
                .disconnectedBehavior(ClientOptions.DisconnectedBehavior.REJECT_COMMANDS)
                .build())
            .build();
        
        return new LettuceConnectionFactory(config, clientConfig);
    }
    
    @Bean
    public RedisTemplate<String, Object> redisTemplate(LettuceConnectionFactory connectionFactory) {
        RedisTemplate<String, Object> template = new RedisTemplate<>();
        template.setConnectionFactory(connectionFactory);
        
        // Use String serializer for keys
        template.setKeySerializer(new StringRedisSerializer());
        template.setHashKeySerializer(new StringRedisSerializer());
        
        // Use JSON serializer for values
        ObjectMapper objectMapper = new ObjectMapper();
        objectMapper.registerModule(new JavaTimeModule());
        objectMapper.activateDefaultTyping(
            objectMapper.getPolymorphicTypeValidator(),
            ObjectMapper.DefaultTyping.NON_FINAL
        );
        
        GenericJackson2JsonRedisSerializer jsonSerializer = 
            new GenericJackson2JsonRedisSerializer(objectMapper);
        
        template.setValueSerializer(jsonSerializer);
        template.setHashValueSerializer(jsonSerializer);
        
        template.afterPropertiesSet();
        return template;
    }
    
    @Bean
    public CacheManager cacheManager(LettuceConnectionFactory connectionFactory) {
        RedisCacheConfiguration defaultConfig = RedisCacheConfiguration.defaultCacheConfig()
            .entryTtl(Duration.ofHours(1))
            .serializeKeysWith(RedisSerializationContext.SerializationPair
                .fromSerializer(new StringRedisSerializer()))
            .serializeValuesWith(RedisSerializationContext.SerializationPair
                .fromSerializer(new GenericJackson2JsonRedisSerializer()))
            .disableCachingNullValues();
        
        Map<String, RedisCacheConfiguration> cacheConfigurations = new HashMap<>();
        cacheConfigurations.put("userProfile", defaultConfig.entryTtl(Duration.ofHours(1)));
        cacheConfigurations.put("transactions", defaultConfig.entryTtl(Duration.ofMinutes(15)));
        cacheConfigurations.put("budgetStatus", defaultConfig.entryTtl(Duration.ofMinutes(5)));
        cacheConfigurations.put("analytics", defaultConfig.entryTtl(Duration.ofMinutes(30)));
        cacheConfigurations.put("aiContext", defaultConfig.entryTtl(Duration.ofHours(2)));
        
        return RedisCacheManager.builder(connectionFactory)
            .cacheDefaults(defaultConfig)
            .withInitialCacheConfigurations(cacheConfigurations)
            .transactionAware()
            .build();
    }
}
```

### 11.3 Cache Service Implementation

```java
@Service
@Slf4j
public class CacheService {
    
    private final RedisTemplate<String, Object> redisTemplate;
    private static final String KEY_PREFIX = "financegpt:";
    
    // Cache-Aside Pattern Implementation
    public <T> T getOrCompute(String key, Class<T> type, 
                              Supplier<T> dataSupplier, 
                              Duration ttl) {
        String fullKey = KEY_PREFIX + key;
        
        // Try to get from cache
        T cachedValue = (T) redisTemplate.opsForValue().get(fullKey);
        if (cachedValue != null) {
            log.debug("Cache hit for key: {}", key);
            return cachedValue;
        }
        
        // Compute and cache
        log.debug("Cache miss for key: {}, computing...", key);
        T computedValue = dataSupplier.get();
        
        if (computedValue != null) {
            redisTemplate.opsForValue().set(fullKey, computedValue, ttl);
        }
        
        return computedValue;
    }
    
    // Cache Invalidation
    public void evict(String key) {
        redisTemplate.delete(KEY_PREFIX + key);
    }
    
    public void evictPattern(String pattern) {
        Set<String> keys = redisTemplate.keys(KEY_PREFIX + pattern);
        if (keys != null && !keys.isEmpty()) {
            redisTemplate.delete(keys);
        }
    }
    
    // User-specific cache invalidation
    public void evictUserCache(String userId) {
        evictPattern("*:" + userId + ":*");
    }
    
    // Transaction cache management
    @CacheEvict(value = {"transactions", "analytics", "budgetStatus"}, 
                key = "#userId")
    public void invalidateTransactionCaches(String userId) {
        log.info("Invalidating transaction-related caches for user: {}", userId);
    }
}
```

---

## 12. System Flow

### 12.1 User Registration Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER REGISTRATION FLOW                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚ Client â”‚    â”‚ Controller â”‚    â”‚  Service   â”‚    â”‚ DynamoDB â”‚            â”‚
â”‚   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜            â”‚
â”‚       â”‚               â”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚ POST /registerâ”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚               â”‚ Validate Input  â”‚                 â”‚                  â”‚
â”‚       â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚ Check Email     â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚ Email Available â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚ Hash Password   â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚ (BCrypt)        â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚ Save User       â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚ User Created    â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚                  â”‚
â”‚       â”‚               â”‚ UserDTO         â”‚                 â”‚                  â”‚
â”‚       â”‚               â”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚ 201 Created   â”‚                 â”‚                 â”‚                  â”‚
â”‚       â”‚ + User Data   â”‚                 â”‚                 â”‚                  â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 12.2 Transaction Creation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       TRANSACTION CREATION FLOW                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Client â”‚  â”‚ JWT  â”‚  â”‚ Controller â”‚  â”‚ Service â”‚  â”‚ DynamoDB â”‚  â”‚ Redis â”‚ â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â”‚
â”‚      â”‚          â”‚            â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚ POST /transactions    â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚ + JWT Token          â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚ Validate   â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚ Token      â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚ Create Txn   â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚ Save Txn   â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚ Update Budget          â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚ Invalidate Cache       â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚ Check Budget Alert     â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚ (Async)    â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚            â”‚            â”‚      â”‚
â”‚      â”‚          â”‚            â”‚ Transaction  â”‚            â”‚            â”‚      â”‚
â”‚      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚            â”‚            â”‚      â”‚
â”‚      â”‚ 201 + Transaction    â”‚              â”‚            â”‚            â”‚      â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 12.3 AI Chat Flow with Function Calling

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI CHAT FLOW WITH FUNCTION CALLING                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚   User: "How much did I spend on food this month?"                           â”‚
â”‚                                                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ STEP 1: Receive User Message                                        â”‚    â”‚
â”‚   â”‚ â”œâ”€ Validate JWT token                                               â”‚    â”‚
â”‚   â”‚ â”œâ”€ Extract user ID                                                  â”‚    â”‚
â”‚   â”‚ â””â”€ Load conversation context from Redis                             â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                                â”‚
â”‚                              â–¼                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ STEP 2: Build AI Prompt                                             â”‚    â”‚
â”‚   â”‚ â”œâ”€ System prompt (FinanceGPT persona)                               â”‚    â”‚
â”‚   â”‚ â”œâ”€ User financial context                                           â”‚    â”‚
â”‚   â”‚ â”œâ”€ Conversation history (last 10 messages)                          â”‚    â”‚
â”‚   â”‚ â””â”€ Available tools/functions                                        â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                                â”‚
â”‚                              â–¼                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ STEP 3: Send to Gemini API                                          â”‚    â”‚
â”‚   â”‚ â””â”€ Gemini decides to call: getTransactionsByCategory("Food")        â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                                â”‚
â”‚                              â–¼                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ STEP 4: Execute Function Call                                       â”‚    â”‚
â”‚   â”‚ â”œâ”€ FinancialTools.getTransactionsByCategory("Food", "2026-01-01",  â”‚    â”‚
â”‚   â”‚ â”‚                                            "2026-01-31")          â”‚    â”‚
â”‚   â”‚ â”œâ”€ Query DynamoDB via TransactionService                            â”‚    â”‚
â”‚   â”‚ â””â”€ Return: [{amount: 45.99, desc: "Restaurant"}, ...]               â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                                â”‚
â”‚                              â–¼                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ STEP 5: Generate Final Response                                     â”‚    â”‚
â”‚   â”‚ â”œâ”€ Gemini processes function results                                â”‚    â”‚
â”‚   â”‚ â””â”€ Generates natural language response with insights                â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                                â”‚
â”‚                              â–¼                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ STEP 6: Save & Return                                               â”‚    â”‚
â”‚   â”‚ â”œâ”€ Save conversation to DynamoDB                                    â”‚    â”‚
â”‚   â”‚ â”œâ”€ Update context cache in Redis                                    â”‚    â”‚
â”‚   â”‚ â””â”€ Return response to user                                          â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                               â”‚
â”‚   Response: "This month you've spent $342.50 on Food & Dining..."           â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 13. Development Process

### 13.1 Project Structure

```
financegpt/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â””â”€â”€ com/
â”‚   â”‚   â”‚       â””â”€â”€ financegpt/
â”‚   â”‚   â”‚           â”œâ”€â”€ FinanceGptApplication.java
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ config/
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ SecurityConfig.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ RedisConfig.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ DynamoDBConfig.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ AIConfig.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ WebConfig.java
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ AsyncConfig.java
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ security/
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ JwtTokenProvider.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ JwtAuthenticationFilter.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ JwtAuthenticationEntryPoint.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ CustomUserDetailsService.java
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ SecurityUtils.java
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ controller/
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ AuthController.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ UserController.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ TransactionController.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ BudgetController.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ AnalyticsController.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ AIController.java
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ GoalController.java
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ service/
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ UserService.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ TransactionService.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ BudgetService.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ AnalyticsService.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ AIService.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ GoalService.java
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ CacheService.java
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ repository/
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ UserRepository.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ TransactionRepository.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ BudgetRepository.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ ConversationRepository.java
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ GoalRepository.java
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ model/
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â”‚           â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â”‚           â”‚   â”‚   â”œâ”€â”€ Transaction.java
â”‚   â”‚   â”‚           â”‚   â”‚   â”œâ”€â”€ Budget.java
â”‚   â”‚   â”‚           â”‚   â”‚   â”œâ”€â”€ Conversation.java
â”‚   â”‚   â”‚           â”‚   â”‚   â””â”€â”€ Goal.java
â”‚   â”‚   â”‚           â”‚   â”‚
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚           â”‚   â”‚   â”œâ”€â”€ request/
â”‚   â”‚   â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ RegisterRequest.java
â”‚   â”‚   â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ LoginRequest.java
â”‚   â”‚   â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ TransactionRequest.java
â”‚   â”‚   â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetRequest.java
â”‚   â”‚   â”‚           â”‚   â”‚   â”‚   â””â”€â”€ ChatRequest.java
â”‚   â”‚   â”‚           â”‚   â”‚   â”‚
â”‚   â”‚   â”‚           â”‚   â”‚   â””â”€â”€ response/
â”‚   â”‚   â”‚           â”‚   â”‚       â”œâ”€â”€ ApiResponse.java
â”‚   â”‚   â”‚           â”‚   â”‚       â”œâ”€â”€ AuthResponse.java
â”‚   â”‚   â”‚           â”‚   â”‚       â”œâ”€â”€ TransactionResponse.java
â”‚   â”‚   â”‚           â”‚   â”‚       â”œâ”€â”€ AnalyticsResponse.java
â”‚   â”‚   â”‚           â”‚   â”‚       â””â”€â”€ AIChatResponse.java
â”‚   â”‚   â”‚           â”‚   â”‚
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ enums/
â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ TransactionType.java
â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ Category.java
â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ GoalStatus.java
â”‚   â”‚   â”‚           â”‚       â””â”€â”€ RecurringPattern.java
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ ai/
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ FinancialTools.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ PromptTemplates.java
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ AIContextManager.java
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ exception/
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ GlobalExceptionHandler.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ ResourceNotFoundException.java
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ ValidationException.java
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ RateLimitExceededException.java
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â””â”€â”€ util/
â”‚   â”‚   â”‚               â”œâ”€â”€ DateUtils.java
â”‚   â”‚   â”‚               â””â”€â”€ KeyGenerator.java
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ application.yml
â”‚   â”‚       â”œâ”€â”€ application-dev.yml
â”‚   â”‚       â”œâ”€â”€ application-prod.yml
â”‚   â”‚       â””â”€â”€ logback-spring.xml
â”‚   â”‚
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ java/
â”‚           â””â”€â”€ com/
â”‚               â””â”€â”€ financegpt/
â”‚                   â”œâ”€â”€ controller/
â”‚                   â”œâ”€â”€ service/
â”‚                   â”œâ”€â”€ repository/
â”‚                   â””â”€â”€ integration/
â”‚
â”œâ”€â”€ build.gradle.kts
â”œâ”€â”€ settings.gradle.kts
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ Dockerfile
â””â”€â”€ README.md
```

### 13.2 Development Phases

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DEVELOPMENT PHASES                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  PHASE 1: Foundation (Week 1-2)                                             â”‚
â”‚  â”œâ”€ Project setup with Gradle Kotlin DSL                                    â”‚
â”‚  â”œâ”€ Spring Boot configuration                                               â”‚
â”‚  â”œâ”€ DynamoDB local setup and table creation                                 â”‚
â”‚  â”œâ”€ Redis Docker setup                                                      â”‚
â”‚  â”œâ”€ Basic entity models                                                     â”‚
â”‚  â””â”€ Repository layer implementation                                         â”‚
â”‚                                                                              â”‚
â”‚  PHASE 2: Security (Week 3)                                                 â”‚
â”‚  â”œâ”€ JWT authentication implementation                                       â”‚
â”‚  â”œâ”€ Spring Security configuration                                           â”‚
â”‚  â”œâ”€ User registration/login endpoints                                       â”‚
â”‚  â”œâ”€ Password hashing                                                        â”‚
â”‚  â””â”€ Rate limiting setup                                                     â”‚
â”‚                                                                              â”‚
â”‚  PHASE 3: Core Features (Week 4-5)                                          â”‚
â”‚  â”œâ”€ Transaction CRUD operations                                             â”‚
â”‚  â”œâ”€ Budget management                                                       â”‚
â”‚  â”œâ”€ Category management                                                     â”‚
â”‚  â”œâ”€ Data validation                                                         â”‚
â”‚  â””â”€ Error handling                                                          â”‚
â”‚                                                                              â”‚
â”‚  PHASE 4: Caching & Performance (Week 6)                                    â”‚
â”‚  â”œâ”€ Redis caching implementation                                            â”‚
â”‚  â”œâ”€ Cache-aside pattern                                                     â”‚
â”‚  â”œâ”€ Cache invalidation strategies                                           â”‚
â”‚  â””â”€ Performance optimization                                                â”‚
â”‚                                                                              â”‚
â”‚  PHASE 5: AI Integration (Week 7-8)                                         â”‚
â”‚  â”œâ”€ Spring AI setup with Gemini                                             â”‚
â”‚  â”œâ”€ Chat functionality                                                      â”‚
â”‚  â”œâ”€ Function calling (tools)                                                â”‚
â”‚  â”œâ”€ Context management                                                      â”‚
â”‚  â””â”€ Prompt engineering                                                      â”‚
â”‚                                                                              â”‚
â”‚  PHASE 6: Analytics & Reports (Week 9)                                      â”‚
â”‚  â”œâ”€ Spending analytics                                                      â”‚
â”‚  â”œâ”€ Budget tracking                                                         â”‚
â”‚  â”œâ”€ Trend analysis                                                          â”‚
â”‚  â””â”€ Export functionality                                                    â”‚
â”‚                                                                              â”‚
â”‚  PHASE 7: Frontend (Week 10-11)                                             â”‚
â”‚  â”œâ”€ Basic UI with Thymeleaf/React                                           â”‚
â”‚  â”œâ”€ Dashboard                                                               â”‚
â”‚  â”œâ”€ Transaction forms                                                       â”‚
â”‚  â”œâ”€ Chat interface                                                          â”‚
â”‚  â””â”€ Charts and visualizations                                               â”‚
â”‚                                                                              â”‚
â”‚  PHASE 8: Testing & Deployment (Week 12)                                    â”‚
â”‚  â”œâ”€ Unit tests                                                              â”‚
â”‚  â”œâ”€ Integration tests                                                       â”‚
â”‚  â”œâ”€ Docker containerization                                                 â”‚
â”‚  â”œâ”€ AWS deployment                                                          â”‚
â”‚  â””â”€ Documentation                                                           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 13.3 Git Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            GIT WORKFLOW                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   main â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—         â”‚
â”‚             â”‚                 â†‘                 â†‘                 â†‘         â”‚
â”‚             â”‚                 â”‚                 â”‚                 â”‚         â”‚
â”‚   develop â”€â”€â”¼â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â”€â”€â”€â”¼â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â—â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€        â”‚
â”‚             â”‚  â†‘  â†‘  â†‘  â†‘     â”‚  â†‘  â†‘  â†‘        â”‚  â†‘  â†‘           â”‚         â”‚
â”‚             â”‚  â”‚  â”‚  â”‚  â”‚     â”‚  â”‚  â”‚  â”‚        â”‚  â”‚  â”‚           â”‚         â”‚
â”‚   feature/  â”‚  â”‚  â”‚  â”‚  â”‚     â”‚  â”‚  â”‚  â”‚        â”‚  â”‚  â”‚           â”‚         â”‚
â”‚   auth      â””â”€â”€â—â”€â”€â”˜  â”‚  â”‚     â”‚  â”‚  â”‚  â”‚        â”‚  â”‚  â”‚           â”‚         â”‚
â”‚                      â”‚  â”‚     â”‚  â”‚  â”‚  â”‚        â”‚  â”‚  â”‚           â”‚         â”‚
â”‚   feature/           â”‚  â”‚     â”‚  â”‚  â”‚  â”‚        â”‚  â”‚  â”‚           â”‚         â”‚
â”‚   transactions       â””â”€â”€â”˜     â”‚  â”‚  â”‚  â”‚        â”‚  â”‚  â”‚           â”‚         â”‚
â”‚                               â”‚  â”‚  â”‚  â”‚        â”‚  â”‚  â”‚           â”‚         â”‚
â”‚   feature/                    â”‚  â”‚  â”‚  â”‚        â”‚  â”‚  â”‚           â”‚         â”‚
â”‚   budgets                     â””â”€â”€â”˜  â”‚  â”‚        â”‚  â”‚  â”‚           â”‚         â”‚
â”‚                                     â”‚  â”‚        â”‚  â”‚  â”‚           â”‚         â”‚
â”‚   feature/                          â”‚  â”‚        â”‚  â”‚  â”‚           â”‚         â”‚
â”‚   ai-chat                           â””â”€â”€â”˜        â”‚  â”‚  â”‚           â”‚         â”‚
â”‚                                                 â”‚  â”‚  â”‚           â”‚         â”‚
â”‚   release/                                      â”‚  â”‚  â”‚           â”‚         â”‚
â”‚   v1.0.0                                        â””â”€â”€â—â”€â”€â”˜           â”‚         â”‚
â”‚                                                                   â”‚         â”‚
â”‚                                                                              â”‚
â”‚   BRANCH NAMING:                                                            â”‚
â”‚   â”œâ”€ feature/[feature-name]  - New features                                 â”‚
â”‚   â”œâ”€ bugfix/[bug-name]       - Bug fixes                                    â”‚
â”‚   â”œâ”€ hotfix/[fix-name]       - Production hotfixes                          â”‚
â”‚   â””â”€ release/v[x.y.z]        - Release preparation                          â”‚
â”‚                                                                              â”‚
â”‚   COMMIT MESSAGE FORMAT:                                                    â”‚
â”‚   type(scope): description                                                  â”‚
â”‚                                                                              â”‚
â”‚   Types: feat, fix, docs, style, refactor, test, chore                      â”‚
â”‚   Example: feat(auth): implement JWT token refresh                          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 14. Deployment Guide

### 14.1 Docker Configuration

#### Dockerfile
```dockerfile
# Build stage
FROM eclipse-temurin:21-jdk-alpine AS build
WORKDIR /app

# Copy gradle files
COPY gradle gradle
COPY gradlew .
COPY build.gradle.kts .
COPY settings.gradle.kts .

# Download dependencies
RUN ./gradlew dependencies --no-daemon

# Copy source code
COPY src src

# Build application
RUN ./gradlew bootJar --no-daemon

# Runtime stage
FROM eclipse-temurin:21-jre-alpine
WORKDIR /app

# Add non-root user
RUN addgroup -S spring && adduser -S spring -G spring

# Copy jar from build stage
COPY --from=build /app/build/libs/*.jar app.jar

# Set ownership
RUN chown -R spring:spring /app
USER spring

# Expose port
EXPOSE 8080

# Health check
HEALTHCHECK --interval=30s --timeout=3s --start-period=30s --retries=3 \
  CMD wget --quiet --tries=1 --spider http://localhost:8080/actuator/health || exit 1

# Run application
ENTRYPOINT ["java", "-XX:+UseContainerSupport", "-XX:MaxRAMPercentage=75.0", "-jar", "app.jar"]
```

#### docker-compose.yml
```yaml
version: '3.8'

services:
  app:
    build: .
    container_name: financegpt-app
    ports:
      - "8080:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=docker
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - AWS_DYNAMODB_ENDPOINT=http://dynamodb-local:8000
      - AWS_ACCESS_KEY=local
      - AWS_SECRET_KEY=local
      - GEMINI_API_KEY=${GEMINI_API_KEY}
      - JWT_SECRET=${JWT_SECRET}
    depends_on:
      redis:
        condition: service_healthy
      dynamodb-local:
        condition: service_started
    networks:
      - financegpt-network
    restart: unless-stopped

  redis:
    image: redis:7-alpine
    container_name: financegpt-redis
    ports:
      - "6379:6379"
    volumes:
      - redis-data:/data
    command: redis-server --appendonly yes
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 5s
      retries: 5
    networks:
      - financegpt-network
    restart: unless-stopped

  dynamodb-local:
    image: amazon/dynamodb-local:latest
    container_name: financegpt-dynamodb
    ports:
      - "8000:8000"
    volumes:
      - dynamodb-data:/home/dynamodblocal/data
    command: "-jar DynamoDBLocal.jar -sharedDb -dbPath /home/dynamodblocal/data"
    networks:
      - financegpt-network
    restart: unless-stopped

  dynamodb-admin:
    image: aaronshaf/dynamodb-admin
    container_name: financegpt-dynamodb-admin
    ports:
      - "8001:8001"
    environment:
      - DYNAMO_ENDPOINT=http://dynamodb-local:8000
    depends_on:
      - dynamodb-local
    networks:
      - financegpt-network

volumes:
  redis-data:
  dynamodb-data:

networks:
  financegpt-network:
    driver: bridge
```

### 14.2 AWS Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AWS DEPLOYMENT ARCHITECTURE                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                              â”‚    Route 53     â”‚                            â”‚
â”‚                              â”‚   (DNS/Domain)  â”‚                            â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                       â”‚                                     â”‚
â”‚                                       â–¼                                     â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                              â”‚  CloudFront     â”‚                            â”‚
â”‚                              â”‚   (CDN/SSL)     â”‚                            â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                       â”‚                                     â”‚
â”‚                                       â–¼                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                         VPC                                        â”‚    â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚   â”‚  â”‚                    Public Subnet                            â”‚   â”‚    â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚    â”‚
â”‚   â”‚  â”‚  â”‚             Application Load Balancer                 â”‚  â”‚   â”‚    â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚    â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚   â”‚                              â”‚                                     â”‚    â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚   â”‚  â”‚                    Private Subnet                           â”‚   â”‚    â”‚
â”‚   â”‚  â”‚                           â”‚                                 â”‚   â”‚    â”‚
â”‚   â”‚  â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚    â”‚
â”‚   â”‚  â”‚          â”‚                â”‚                â”‚               â”‚   â”‚    â”‚
â”‚   â”‚  â”‚          â–¼                â–¼                â–¼               â”‚   â”‚    â”‚
â”‚   â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚    â”‚
â”‚   â”‚  â”‚    â”‚   ECS    â”‚    â”‚   ECS    â”‚    â”‚   ECS    â”‚           â”‚   â”‚    â”‚
â”‚   â”‚  â”‚    â”‚  Task 1  â”‚    â”‚  Task 2  â”‚    â”‚  Task 3  â”‚           â”‚   â”‚    â”‚
â”‚   â”‚  â”‚    â”‚(Fargate) â”‚    â”‚(Fargate) â”‚    â”‚(Fargate) â”‚           â”‚   â”‚    â”‚
â”‚   â”‚  â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â”‚   â”‚    â”‚
â”‚   â”‚  â”‚         â”‚               â”‚               â”‚                  â”‚   â”‚    â”‚
â”‚   â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚   â”‚    â”‚
â”‚   â”‚  â”‚                         â”‚                                  â”‚   â”‚    â”‚
â”‚   â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚   â”‚    â”‚
â”‚   â”‚  â”‚              â”‚                     â”‚                       â”‚   â”‚    â”‚
â”‚   â”‚  â”‚              â–¼                     â–¼                       â”‚   â”‚    â”‚
â”‚   â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚   â”‚    â”‚
â”‚   â”‚  â”‚    â”‚  ElastiCache    â”‚   â”‚    DynamoDB     â”‚              â”‚   â”‚    â”‚
â”‚   â”‚  â”‚    â”‚    (Redis)      â”‚   â”‚                 â”‚              â”‚   â”‚    â”‚
â”‚   â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚   â”‚    â”‚
â”‚   â”‚  â”‚                                                            â”‚   â”‚    â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚   Additional Services:                                                      â”‚
â”‚   â”œâ”€ Secrets Manager - Store API keys and secrets                          â”‚
â”‚   â”œâ”€ CloudWatch - Logging and monitoring                                   â”‚
â”‚   â”œâ”€ S3 - Static assets and exports                                        â”‚
â”‚   â””â”€ IAM - Access management                                               â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 14.3 Environment Configuration

```yaml
# application-prod.yml
spring:
  profiles:
    active: prod

# Redis (AWS ElastiCache)
  data:
    redis:
      host: ${ELASTICACHE_ENDPOINT}
      port: 6379
      ssl:
        enabled: true
      lettuce:
        pool:
          max-active: 20
          max-idle: 10
          min-idle: 5

# AWS DynamoDB
aws:
  dynamodb:
    endpoint: https://dynamodb.${AWS_REGION}.amazonaws.com
    region: ${AWS_REGION}

# Server
server:
  port: 8080
  forward-headers-strategy: framework

# Logging
logging:
  level:
    root: WARN
    com.financegpt: INFO
  pattern:
    console: '{"timestamp":"%d{ISO8601}","level":"%p","logger":"%logger","message":"%m"}%n'

# Actuator
management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus
  endpoint:
    health:
      show-details: never
```

---

## 15. Testing Strategy

### 15.1 Testing Pyramid

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           TESTING PYRAMID                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚
â”‚                           /â”‚   E2E   â”‚\                                     â”‚
â”‚                          / â”‚  Tests  â”‚ \         ~5% of tests               â”‚
â”‚                         /  â”‚ (UI/API)â”‚  \        Slowest, most fragile     â”‚
â”‚                        /   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   \                                  â”‚
â”‚                       /                   \                                 â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚                     /â”‚    Integration      â”‚\                               â”‚
â”‚                    / â”‚       Tests         â”‚ \      ~15% of tests           â”‚
â”‚                   /  â”‚  (API, Database)    â”‚  \     Medium speed            â”‚
â”‚                  /   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   \                            â”‚
â”‚                 /                               \                           â”‚
â”‚                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚               /â”‚         Unit Tests              â”‚\                         â”‚
â”‚              / â”‚    (Services, Utils, etc.)      â”‚ \     ~80% of tests     â”‚
â”‚             /  â”‚                                 â”‚  \    Fastest, stable    â”‚
â”‚            /   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   \                      â”‚
â”‚                                                                              â”‚
â”‚  Coverage Target: 80% overall, 90% for business logic                       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 15.2 Unit Test Examples

```java
// TransactionServiceTest.java
@ExtendWith(MockitoExtension.class)
class TransactionServiceTest {
    
    @Mock
    private TransactionRepository transactionRepository;
    
    @Mock
    private BudgetService budgetService;
    
    @Mock
    private CacheService cacheService;
    
    @InjectMocks
    private TransactionService transactionService;
    
    @Test
    @DisplayName("Should create transaction and update budget")
    void shouldCreateTransactionAndUpdateBudget() {
        // Given
        String userId = "user-123";
        TransactionRequest request = TransactionRequest.builder()
            .type(TransactionType.EXPENSE)
            .amount(new BigDecimal("50.00"))
            .category("Food & Dining")
            .description("Lunch")
            .transactionDate(LocalDate.now())
            .build();
        
        Transaction savedTransaction = Transaction.builder()
            .transactionId("txn-123")
            .userId(userId)
            .type(TransactionType.EXPENSE)
            .amount(new BigDecimal("50.00"))
            .category("Food & Dining")
            .build();
        
        when(transactionRepository.save(any(Transaction.class)))
            .thenReturn(savedTransaction);
        
        // When
        TransactionResponse response = transactionService.createTransaction(userId, request);
        
        // Then
        assertThat(response).isNotNull();
        assertThat(response.getTransactionId()).isEqualTo("txn-123");
        assertThat(response.getAmount()).isEqualByComparingTo(new BigDecimal("50.00"));
        
        verify(budgetService).updateSpentAmount(userId, "Food & Dining", new BigDecimal("50.00"));
        verify(cacheService).invalidateTransactionCaches(userId);
    }
    
    @Test
    @DisplayName("Should throw exception for invalid amount")
    void shouldThrowExceptionForInvalidAmount() {
        // Given
        String userId = "user-123";
        TransactionRequest request = TransactionRequest.builder()
            .type(TransactionType.EXPENSE)
            .amount(new BigDecimal("-50.00"))
            .category("Food & Dining")
            .build();
        
        // When & Then
        assertThatThrownBy(() -> transactionService.createTransaction(userId, request))
            .isInstanceOf(ValidationException.class)
            .hasMessageContaining("Amount must be positive");
    }
}

// JwtTokenProviderTest.java
@ExtendWith(MockitoExtension.class)
class JwtTokenProviderTest {
    
    private JwtTokenProvider jwtTokenProvider;
    
    @BeforeEach
    void setUp() {
        jwtTokenProvider = new JwtTokenProvider();
        ReflectionTestUtils.setField(jwtTokenProvider, "jwtSecret", 
            Base64.getEncoder().encodeToString("test-secret-key-32-characters!!".getBytes()));
        ReflectionTestUtils.setField(jwtTokenProvider, "jwtExpiration", 86400000L);
    }
    
    @Test
    @DisplayName("Should generate valid JWT token")
    void shouldGenerateValidToken() {
        // Given
        UserDetails userDetails = User.builder()
            .username("test@example.com")
            .password("password")
            .authorities(Collections.emptyList())
            .build();
        
        // When
        String token = jwtTokenProvider.generateAccessToken(userDetails);
        
        // Then
        assertThat(token).isNotNull();
        assertThat(jwtTokenProvider.validateToken(token)).isTrue();
        assertThat(jwtTokenProvider.extractUsername(token)).isEqualTo("test@example.com");
    }
}
```

### 15.3 Integration Test Examples

```java
// TransactionControllerIntegrationTest.java
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@Testcontainers
@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)
class TransactionControllerIntegrationTest {
    
    @Container
    static GenericContainer<?> redis = new GenericContainer<>("redis:7-alpine")
        .withExposedPorts(6379);
    
    @Container
    static GenericContainer<?> dynamodb = new GenericContainer<>("amazon/dynamodb-local:latest")
        .withExposedPorts(8000)
        .withCommand("-jar DynamoDBLocal.jar -sharedDb -inMemory");
    
    @Autowired
    private TestRestTemplate restTemplate;
    
    @Autowired
    private JwtTokenProvider jwtTokenProvider;
    
    private String authToken;
    
    @DynamicPropertySource
    static void configureProperties(DynamicPropertyRegistry registry) {
        registry.add("spring.data.redis.host", redis::getHost);
        registry.add("spring.data.redis.port", redis::getFirstMappedPort);
        registry.add("aws.dynamodb.endpoint", 
            () -> "http://" + dynamodb.getHost() + ":" + dynamodb.getFirstMappedPort());
    }
    
    @BeforeEach
    void setUp() {
        UserDetails userDetails = User.builder()
            .username("test@example.com")
            .password("password")
            .authorities(Collections.emptyList())
            .build();
        authToken = "Bearer " + jwtTokenProvider.generateAccessToken(userDetails);
    }
    
    @Test
    @DisplayName("Should create transaction via API")
    void shouldCreateTransaction() {
        // Given
        HttpHeaders headers = new HttpHeaders();
        headers.set("Authorization", authToken);
        headers.setContentType(MediaType.APPLICATION_JSON);
        
        TransactionRequest request = TransactionRequest.builder()
            .type(TransactionType.EXPENSE)
            .amount(new BigDecimal("45.99"))
            .category("Food & Dining")
            .description("Dinner")
            .transactionDate(LocalDate.now())
            .build();
        
        HttpEntity<TransactionRequest> entity = new HttpEntity<>(request, headers);
        
        // When
        ResponseEntity<ApiResponse<TransactionResponse>> response = restTemplate.exchange(
            "/api/v1/transactions",
            HttpMethod.POST,
            entity,
            new ParameterizedTypeReference<>() {}
        );
        
        // Then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.CREATED);
        assertThat(response.getBody()).isNotNull();
        assertThat(response.getBody().isSuccess()).isTrue();
        assertThat(response.getBody().getData().getAmount())
            .isEqualByComparingTo(new BigDecimal("45.99"));
    }
    
    @Test
    @DisplayName("Should return 401 for unauthenticated request")
    void shouldReturn401ForUnauthenticatedRequest() {
        // When
        ResponseEntity<String> response = restTemplate.getForEntity(
            "/api/v1/transactions",
            String.class
        );
        
        // Then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.UNAUTHORIZED);
    }
}
```

### 15.4 Test Configuration

```java
// TestConfiguration.java
@TestConfiguration
public class TestConfig {
    
    @Bean
    @Primary
    public ChatClient mockChatClient() {
        ChatClient mockClient = mock(ChatClient.class);
        // Configure mock behavior
        return mockClient;
    }
}

// application-test.yml
spring:
  profiles:
    active: test
  
  ai:
    google:
      genai:
        api-key: test-key
        enabled: false

logging:
  level:
    root: WARN
    com.financegpt: DEBUG
```

---

## ğŸ“š Appendix

### A. Expense Categories

| Category | Subcategories |
|----------|---------------|
| Food & Dining | Restaurants, Groceries, Coffee Shops, Fast Food |
| Transportation | Gas, Public Transit, Uber/Lyft, Parking |
| Shopping | Clothing, Electronics, Home Goods |
| Entertainment | Movies, Games, Streaming, Events |
| Bills & Utilities | Electric, Water, Internet, Phone |
| Health & Fitness | Gym, Medical, Pharmacy |
| Travel | Flights, Hotels, Vacation |
| Personal Care | Haircuts, Spa, Cosmetics |
| Education | Courses, Books, Tuition |
| Income | Salary, Freelance, Investments, Other |

### B. Error Codes

| Code | Description |
|------|-------------|
| AUTH_001 | Invalid credentials |
| AUTH_002 | Token expired |
| AUTH_003 | Token invalid |
| AUTH_004 | Insufficient permissions |
| VAL_001 | Validation error |
| VAL_002 | Invalid date format |
| VAL_003 | Amount out of range |
| RES_001 | Resource not found |
| RES_002 | Resource already exists |
| RATE_001 | Rate limit exceeded |
| AI_001 | AI service unavailable |
| AI_002 | Context limit exceeded |
| SYS_001 | Internal server error |
| SYS_002 | Database error |
| SYS_003 | Cache error |

### C. API Rate Limits

| Endpoint Category | Limit | Window |
|-------------------|-------|--------|
| Authentication | 10 requests | 1 minute |
| Standard API | 60 requests | 1 minute |
| AI Chat | 10 requests | 1 minute |
| Bulk Operations | 5 requests | 1 minute |
| Export | 3 requests | 1 minute |

---

## ğŸ¤ Contributing

This is a learning project, but contributions and suggestions are welcome!

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'feat: add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

## ğŸ“„ License

This project is licensed under the MIT License - see the LICENSE file for details.

---

## ğŸ‘¤ Author

**Aryan Jaiswal**
- Learning: Spring Boot, Spring Security, Spring AI, Redis, DynamoDB
- Project: FinanceGPT - AI-Powered Personal Finance Manager

---

*Last Updated: January 27, 2026*